"use strict";(self.webpackChunksayaku=self.webpackChunksayaku||[]).push([[1477],{10:function(n){n.exports=JSON.parse('{"blogPosts":[{"id":"/2022/11/16/vite-react-extension","metadata":{"permalink":"/blog/2022/11/16/vite-react-extension","editUrl":"https://github.com/sayaku/sayaku.github.io/edit/main/blog/2022-11-16-vite-react-extension/index.mdx","source":"@site/blog/2022-11-16-vite-react-extension/index.mdx","title":"vite-react-extension","description":"\u7e7c\u4e0a\u4e00\u6b21vite-react\u7bc4\u672c\u8a2d\u5b9a","date":"2022-11-16T12:00:12.000Z","formattedDate":"2022\u5e7411\u670816\u65e5","tags":[{"label":"vite","permalink":"/blog/tags/vite"},{"label":"react","permalink":"/blog/tags/react"},{"label":"sass","permalink":"/blog/tags/sass"},{"label":"tailwindcss","permalink":"/blog/tags/tailwindcss"},{"label":"redux","permalink":"/blog/tags/redux"},{"label":"redux-observable","permalink":"/blog/tags/redux-observable"},{"label":"rxjs","permalink":"/blog/tags/rxjs"},{"label":"observable-hooks","permalink":"/blog/tags/observable-hooks"},{"label":"axios-observable","permalink":"/blog/tags/axios-observable"}],"readingTime":12.405,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"vite-react-extension","date":"2022-11-16 12:00:12 +0800","tags":["vite","react","sass","tailwindcss","redux","redux-observable","rxjs","observable-hooks","axios-observable"]},"nextItem":{"title":"MTB Hopper Lite","permalink":"/blog/2022/11/10/mtb-hopper-ramp-lite"}},"content":"\u7e7c\u4e0a\u4e00\u6b21[vite-react\u7bc4\u672c\u8a2d\u5b9a](/blog/2022/11/08/build-project-react-with-vite)\\n\\n\u9019\u6b21\u8981\u4f86\u64f4\u5145\u9019\u500b\u7bc4\u672c\\n\\n\u4f5c\u6210\u6211\u5de5\u4f5c\u4e0a\u7fd2\u6163\u7684\u914d\u7f6e\u74b0\u5883\\n\\n\x3c!--truncate--\x3e\\n\\n## extension\\n+ sass / tailwindcss 3 / postcss\\n+ rxjs / observable-hooks\\n+ redux-toolkit\\n+ redux-observable / axios-observable\\n\\n\u9996\u5148\u62c9\u4e0a\u4e00\u6b21\u5efa\u597d\u7684\u7bc4\u672c\u518d\u53e6\u5916\u505a\u4e00\u500b\u64f4\u5145\u7248\u672c\u7684\u7bc4\u672c\\n\\n```bash\\n$ npx degit sayaku/reactSample viteReactTemplate\\n```\\n\\n\u4e0b\u8f09\u5f8c\u9032\u5230\u8cc7\u6599\u593e\\n\\n```bash\\n$ cd viteReactTemplate\\n```\\n\\n## install sass / tailwindcss 3 / postcss\\n\\n\u9996\u5148\u5b89\u88dd\u8ddftailwindcss\u76f8\u95dc\u7684\u4f9d\u8cf4\\n\\n```bash\\n$ yarn add sass tailwindcss postcss autoprefixer --dev\\n```\\n\\n\u88dd\u5b8c\u5f8c\u521d\u59cb\u5316tailwindcss\u8207postcss\u7684\u8a2d\u5b9a\u6a94\\n\\n```bash\\n$ npx tailwindcss init -p\\n```\\n\u9019\u6642\u76ee\u9304\u4e0b\u6703\u591a\u5169\u500b\u8a2d\u5b9a\u6a94<code>postcss.config.cjs</code>, <code>tailwindcss.config.cjs</code>\u51fa\u4f86\\n\\n![](images/01.png)\\n\\n\u5169\u500b\u6a94\u6848\u9700\u8981\u8b8a\u52d5\u5982\u4e0b\\n\\nimport Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\n\\n<Tabs>\\n<TabItem value=\\"postcss.config\\" label=\\"postcss.config.cjs\\">\\n\\n```js\\nmodule.exports= {\\n  plugins: {\\n    tailwindcss: {},\\n    autoprefixer: {},\\n  },\\n}\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"tailwindcss.config\\" label=\\"tailwindcss.config.cjs\\">\\n\\n```js {2-5}\\nmodule.exports= {\\n  mode: \\"jit\\", // \u958b\u555fjit\u6a21\u5f0f\u53ef\u4ee5\u7528\u81ea\u8a02\u6578\u5b57\u4f86\u5b9a\u7fa9\u5bec\u9ad8\u6216\u9593\u8ddd\\n  content: [\\n    \\"./index.html\\",\\n    \\"./src/**/*.{js,ts,jsx,tsx}\\",\\n  ],\\n  theme: {\\n    extend: {},\\n  },\\n  plugins: [],\\n}\\n\\n```\\n\\n</TabItem>\\n</Tabs>\\n\\nvite\u9810\u8a2d\u6703\u53bb\u627e\u6709\u6c92\u6709\u7b26\u5408postcss-load-config\u7684\u6a94\u6848\u4e26\u4e14\u53bb\u5957\u7528\u5b83\\n\\n\u7b26\u5408postcss-load-config\u6a94\u540d\u8207\u526f\u6a94\u540d\u53ef\u53c3\u8003:[\u9019\u88e1](https://github.com/postcss/postcss-load-config#postcssrcjs-or-postcssconfigjs)\\n\\npostcss\u7684config\u88e1\u95dc\u65bctailwindcss\u5982\u679c\u6c92\u7279\u5225\u8a2d\u5b9a,\u9810\u8a2d\u6703\u53bb\u6293<code>tailwindcss.config</code>\\n\\n\u4e5f\u5c31\u662f\u6211\u5011\u628avite\u7d66run\u8d77\u4f86\u7684\u6642\u5019\u5c31\u6703\u4e00\u8d77\u53bb\u8dd1postcss\u8207tailwindcss\u7684\u8a2d\u5b9a\u4e86\\n\\nvite\u8a2d\u5b9a\u771f\u7684\u5c11\u5f88\u591a\uff08\u671b\u5411webpack\u9084\u8981\u5beb\u4e00\u5806loader...\uff09\\n\\n\u9810\u8655\u7406css\u7684\u90e8\u5206\\n\\nvite\u9810\u8a2d\u6709\u652f\u63f4sass, \u4e0d\u7528\u53e6\u5916\u50cfwebpack\u4f86\u88ddsass\u7684loader, \u4f46vite\u8981\u53e6\u5916\u88ddsass\u7684\u4f9d\u8cf4\uff08\u6240\u4ee5\u6211\u5011\u4e0a\u9762\u5148\u88dd\u904esass\u4e86\uff09\\n\\n\u5c31\u7b97\u4f60\u4e0d\u7528sass, vite\u4e5f\u9810\u8a2d\u652f\u63f4<code>postcss-import</code>\u8207<code>postcss-nesting</code>\\n\\n\u8b93\u4f60\u53ef\u4ee5\u5728css\u4e0aimport\u5176\u4ed6css\u4ee5\u53ca\u5728css\u88e1\u9762\u50cfsass\u90a3\u6a23\u80fd\u5beb\u5de2\u72c0css\\n\\n\u9019\u908a\u6211\u5011\u5148\u53bb\u5f15\u5165\u57fa\u672c\u7684tailwindcss\\n\\n\u7136\u5f8c\u5728<code>App.tsx</code>\u505a\u4e00\u4e9bclass\u7684\u4fee\u6539(\u5957\u7528tailwindcss class)\\n\\n<Tabs>\\n<TabItem value=\\"tailwind\\" label=\\"/src/style/tailwind.scss\\">\\n\\n```css\\n@tailwind base;\\n@tailwind components;\\n@tailwind utilities;\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"index\\" label=\\"src/index.scss\\">\\n\\n```css\\n@import \'style/tailwind\';\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"app\\" label=\\"src/App.tsx\\">\\n\\n```tsx {7-19}\\nimport { useState } from \\"react\\";\\nimport reactLogo from \\"./assets/react.svg\\";\\n\\nfunction App() {\\n  const [count, setCount] = useState(0);\\n\\n  return (\\n    <div className=\\"flex flex-col\\">\\n      <div className=\\"w-full flex justify-around p-10\\">\\n        <a href=\\"https://vitejs.dev\\" target=\\"_blank\\" className=\\"basis-1/4\\">\\n          <img src=\\"/vite.svg\\" className=\\"w-full aspect-square\\" alt=\\"Vite logo\\" />\\n        </a>\\n        <a href=\\"https://reactjs.org\\" target=\\"_blank\\" className=\\"basis-1/4\\">\\n          <img src={reactLogo} className=\\"w-full aspect-square\\" alt=\\"React logo\\" />\\n        </a>\\n      </div>\\n      <h1 className=\\"self-center text-lg mx-5\\">Vite + React + Tailwindcss</h1>\\n    </div>\\n  );\\n}\\n\\nexport default App;\\n\\n```\\n\\n</TabItem>\\n</Tabs>\\n\\n\u63a5\u4e0b\u4f86\u6b63\u5f0f\u8dd1\u4e00\u4e0b\\n\\n```bash\\n$ yarn run dev\\n```\\n\\n\u8dd1\u8d77\u4f86\u767c\u73fe\u6211\u5011\u7684tailwindcss\u90fd\u5957\u7528\u4e0a\u53bb\u4e86\\n\\n![](images/02.png)\\n\\n\u5230\u9019\u908a\u57fa\u672c\u7684style\u7684\u90e8\u5206\u90fd\u8a2d\u5b9a\u597d\u4e86\\n\\n## rxjs / observable-hooks\\n\\n\u96d6\u7136\u7c21\u55ae\u7684\u975e\u540c\u6b65\u7528Promise/async/await\u5373\u53ef\u9054\u6210\\n\\n\u4f46\u56e0\u70ba\u6211\u539f\u672c\u4f7f\u7528Angular, \u7528\u7fd2\u6163rxjs\\n\\n\u4e0d\u7528rx\u4f86\u5beb\u6574\u500b\u6e3e\u8eab\u4e0d\u5c0d\u52c1\\n\\n\u6240\u4ee5\u6253\u7b97\u76f4\u63a5\u5728react\u4e0a\u4f7f\u7528rx\\n\\n\u4e0d\u5f97\u4e0d\u8aaa\u525b\u63a5\u89f8react-hooks\u6642\u9084\u4e00\u6642\u4e0d\u77e5\u600e\u9ebc\u5728hook\u4e0a\u4f7f\u7528rx\\n\\n\u76f4\u5230\u4f7f\u7528observable-hooks\u5f8c\u624d\u4e86\u89e3\u539f\u4f86rx\u662f\u9019\u6a23\u5bebhooks\u7684\\n\\n\u800c\u5f8c\u4f86\u767c\u73fereact\u81ea\u5df1\u672c\u8eab\u7684hooks\u6709\u4e9b\u7f3a\u9677\u53ef\u4ee5\u900f\u904erx\u4f86\u89e3\u6c7a\\n\\n\u8209\u500b\u4f8b\u5b50\u597d\u4e86,\u5728useEffect\u88e1\u7684deps\u767c\u751f\u8b8a\u52d5\u6703\u89f8\u767cuseEffect callback\\n\\n\u4f46useEffect callback\u88e1\u9762\u4f60\u6703\u77e5\u9053\u662f\u54ea\u500bdeps\u767c\u751f\u6539\u8b8a\u55ce\uff1f(\u9084\u662f\u80fd\u505a\u5230\u4f46\u662f\u6c92\u90a3\u9ebc\u76f4\u89ba)\\n\\n\u9019\u500b\u4f8b\u5b50\u4f7f\u7528observable-hooks\u5c31\u65b9\u4fbf\u8a31\u591a\\n\\n\u6240\u4ee5\u6211\u5728\u4f7f\u7528react-hooks\u7684\u539f\u5247\u5c31\u662f\u80fd\u7528\u539f\u751fhooks\u5c31\u4f7f\u7528\u539f\u751f\u7684\\n\\n\u6bd4\u8f03\u8907\u96dc\u7684\u72c0\u614b\u63a7\u5236\u624d\u6703\u4f7f\u7528observable-hooks\\n\\n\u63a5\u4e0b\u4f86\u5c31\u958b\u59cb\u88ddobservable-hooks rxjs\\n\\n```bash\\n$yarn add observable-hooks rxjs\\n```\\n\\n\u5982\u4f55\u4f7f\u7528\u8acb\u53c3\u8003[\u5b98\u7db2](https://observable-hooks.js.org/guide/#usage)\u7bc4\u4f8b\uff08\u61c2\u7684\u5c31\u77e5\u9053\u600e\u9ebc\u7528\u4e86\uff09\\n\\n## redux-toolkit\\n\\n\u63a5\u4e0b\u4f86\u5c31\u662f\u505a\u5168\u57df\u72c0\u614b\u7ba1\u7406\\n\\n\u6211\u5011\u90fd\u719f\u6089\u4f7f\u7528redux, \u4f46\u5beb\u8d77\u4f86\u5be6\u5728\u662f\u5f88\u9ebb\u7169\\n\\n\u6240\u4ee5\u6211\u5011\u7528redux-toolkit\u4f86\u7c21\u5316\u5bebredux\u7684\u6d41\u7a0b\\n\\n\u9996\u5148\u5b89\u88dd\\n\\n```bash\\n$yarn add @reduxjs/toolkit react-redux\\n```\\n\\n\u5efa\u7acbslice, \u9019\u88e1\u9762\u540c\u6642\u5305\u542binit state, action, reducer\\n\\n\u5c08\u6848\u4e0a\u662f\u5426\u8981\u628aaction, reducer\u6216\u662fepic\u5206\u6a94\u6848\u5beb\u53ef\u7531\u5718\u968a\u6c7a\u5b9a\\n\\n\u65b0\u589e\u8cc7\u6599\u593e\u8207\u6a94\u6848\u5982\u4e0b\\n\\n<Tabs>\\n<TabItem value=\\"todo.slice.ts\\" label=\\"store/slices/todo.slice.ts\\">\\n\\n```ts\\nimport { createAction, createSlice, PayloadAction } from \\"@reduxjs/toolkit\\";\\n\\nconst initialState: { count: number; name: string } = {\\n  count: 0,\\n  name: \\"sayaku\\",\\n};\\n\\n// Actions\\nexport const increment = createAction<number>(\\"todo/INCREMENT\\");\\nexport const decrement = createAction<number>(\\"todo/DECREMENT\\");\\n\\n/**\\n * Slice\\n */\\nexport const todoSlice = createSlice({\\n  name: \\"todo\\",\\n  initialState,\\n  reducers: {},\\n  extraReducers: (builder) => {\\n    builder\\n      .addCase(increment, (state, action: PayloadAction<number>) => {\\n        return {\\n          ...state,\\n          count: state.count + action.payload,\\n        };\\n      })\\n      .addCase(decrement, (state, action: PayloadAction<number>) => {\\n        return {\\n          ...state,\\n          count: state.count - action.payload,\\n        };\\n      });\\n  },\\n});\\n\\n\\n/**\\n * Reducer\\n */\\n export default todoSlice.reducer;\\n\\n\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"reducer.ts\\" label=\\"store/reducer.ts\\">\\n\\n```ts\\nimport { combineReducers } from \'@reduxjs/toolkit\';\\nimport todoReducer from \'./slices/todo.slice\';\\n\\n\\nconst rootReducer = combineReducers({\\n  todoStore: todoReducer\\n});\\n\\nexport default rootReducer;\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"store.config.ts\\" label=\\"store/store.config.ts\\">\\n\\n```ts\\nimport { configureStore } from \'@reduxjs/toolkit\';\\nimport rootReducer from \'./reducers\';\\n\\n// \u900f\u904e configureStore() \u5efa\u7acb Redux Store\\nexport const store = configureStore({\\n  reducer: rootReducer,\\n});\\n\\n// type definition\\nexport type RootState = ReturnType<typeof store.getState>\\nexport type AppDispatch = typeof store.dispatch\\n\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"main.tsx\\" label=\\"main.tsx\\">\\n\\n```tsx {5,6,10,12}\\nimport React from \\"react\\";\\nimport ReactDOM from \\"react-dom/client\\";\\nimport App from \\"./App\\";\\nimport \\"./index.scss\\";\\nimport { store } from \\"./store/store.config\\";\\nimport { Provider } from \\"react-redux\\";\\n\\nReactDOM.createRoot(document.getElementById(\\"root\\") as HTMLElement).render(\\n  <React.StrictMode>\\n    <Provider store={store}>\\n      <App />\\n    </Provider>\\n  </React.StrictMode>\\n);\\n\\n\\n```\\n\\n</TabItem>\\n</Tabs>\\n\\n\u57fa\u790e\u8a2d\u5b9a\u597d\u4ee5\u5f8c\\n\\n\u53ef\u4ee5\u958b\u59cb\u4f7f\u7528\u4e86\\n\\n\u4e0b\u9762\u7c21\u55ae\u4f7f\u7528\u5982\u4f55\u5f9estore\u62ff\u503c\\n\\n\u4ee5\u53ca\u900f\u904eObservable-hooks\u5be6\u73fe\u5728hooks\u88e1\u4f7f\u7528rx\u8207\u72c0\u614b\u7ba1\u7406\\n\\n```tsx title=App.tsx {1-9,12-17,38-45}\\nimport {\\n  useObservable,\\n  useObservableState,\\n} from \\"observable-hooks\\";\\nimport { useDispatch, useSelector } from \\"react-redux\\";\\nimport { map } from \\"rxjs\\";\\nimport reactLogo from \\"./assets/react.svg\\";\\nimport { decrement, increment } from \\"./store/slices/todo.slice\\";\\nimport { RootState } from \\"./store/store.config\\";\\n\\nfunction App() {\\n  const count = useSelector((state: RootState) => state.todoStore.count);\\n  const dispatch = useDispatch();\\n  // \u7576store\u7684count\u8b8a\u52d5\u6642\u900f\u904erx\u53bb\u5c0dcount\u505a\u8655\u7406,\u9019\u908a\u7684\u7bc4\u4f8b\u662f\u7576count\u8b8a\u52d5\u6642\u5c07count\u4e58\u4ee52\\n  const twiceCount = useObservableState(\\n    useObservable((obs$) => obs$.pipe(map(([v]) => v * 2)), [count])\\n  );\\n\\n  return (\\n    <div className=\\"flex flex-col\\">\\n      <div className=\\"w-full flex justify-around p-10\\">\\n        <a href=\\"https://vitejs.dev\\" target=\\"_blank\\" className=\\"basis-1/4\\">\\n          <img\\n            src=\\"/vite.svg\\"\\n            className=\\"w-full aspect-square\\"\\n            alt=\\"Vite logo\\"\\n          />\\n        </a>\\n        <a href=\\"https://reactjs.org\\" target=\\"_blank\\" className=\\"basis-1/4\\">\\n          <img\\n            src={reactLogo}\\n            className=\\"w-full aspect-square\\"\\n            alt=\\"React logo\\"\\n          />\\n        </a>\\n      </div>\\n      <h1 className=\\"self-center text-lg mx-5\\">Vite + React + Tailwindcss</h1>\\n      <div className=\\"w-full flex justify-around p-10\\">\\n        <div>count: {count}</div>\\n        <div>twiceCount: {twiceCount}</div>\\n      </div>\\n      <div className=\\"w-full flex justify-around p-10\\">\\n        <button className=\\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\\" onClick={() => dispatch(increment(1))}>increment</button>\\n        <button className=\\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\\" onClick={() => dispatch(decrement(1))}>decrement</button>\\n      </div>\\n    </div>\\n  );\\n}\\n\\nexport default App;\\n\\n```\\nrun\u8d77\u4f86\u5f8c\u61c9\u8a72\u6703\u9577\u9019\u6a23, \u53ef\u4ee5\u6b63\u5e38\u904b\u4f5c\\n\\n![](./images/03.png)\\n\\n## redux-observable / axios-observable\\n\\n\u73fe\u5728\u5c08\u6848\u88e1\u7684Redux\u90fd\u662f\u505a\u540c\u6b65\u8655\u7406\\n\\n\u5982\u679c\u4eca\u5929\u8981\u52a0\u5165\u6253API\u7b49\u975e\u540c\u6b65\u8655\u7406\u96d6\u7136\u53ef\u4ee5\u900f\u904eredux-toolkit\u88e1\u7684createAsyncThunk\\n\\n\u4f46\u6211\u5011\u65e2\u7136\u90fd\u4f7f\u7528rx\u4e86, \u5c31\u7d71\u4e00\u90fd\u4f7f\u7528rx\u4f86\u4e32\u63a5\u975e\u540c\u6b65\u9019\u584a\\n\\n\u7562\u7adf\u975e\u540c\u6b65\u5c31\u662frx\u7684\u5f37\u9805\\n\\n\u7576\u7136\u4f60\u4e5f\u53ef\u4ee5\u5728createAsyncThunk\u88e1\u9762\u4f7f\u7528rx\\n\\n\u4f46\u6211\u5be6\u5728\u4e0d\u559c\u6b61\u4f7f\u7528rx\u9084\u8981\u5728\u90a3\u908a\u8f49\u6210promise\u9084\u6709async/await\\n\\n\u6240\u4ee5\u9019\u908a\u900f\u904eRedux Middleware\u4f86\u8655\u7406\u975e\u540c\u6b65\u9019\u4e00\u584a\\n\\n\u800cMiddleware\u6211\u5011\u4f7f\u7528redux-observable\u4f86\u8655\u7406\u975e\u540c\u6b65\\n\\n\u9996\u5148\u5b89\u88ddredux-observable\\n\\n```bash\\n$yarn add redux-observable -D\\n```\\n\\n\u4e4b\u5f8c\u65b0\u589e\u8207\u4fee\u6539\u4e0b\u5217\u6a94\u6848\\n\\n\\n<Tabs>\\n<TabItem value=\\"todo.slice.ts-2\\" label=\\"store/slices/todo.slice.ts\\">\\n\\n```ts {3,13,16,19-25}\\nimport { createAction, createSlice, PayloadAction } from \\"@reduxjs/toolkit\\";\\nimport { filter, map, mergeMap } from \\"rxjs\\";\\nimport { AppEpic } from \\"../store.config\\";\\n\\nconst initialState: { count: number; name: string } = {\\n  count: 0,\\n  name: \\"sayaku\\",\\n};\\n\\n// Actions\\nexport const increment = createAction<number>(\\"todo/INCREMENT\\");\\nexport const decrement = createAction<number>(\\"todo/DECREMENT\\");\\nexport const updateName = createAction<string>(\\"todo/UPDATE_NAME\\");\\n\\n// Async Actions\\nexport const fetchData = createAction<undefined>(\\"todo/FETCH_DATA\\");\\n\\n// Epics\\nexport const fetchUserEpic: AppEpic = (action$, store, { getUserName }) =>\\n  action$.pipe(\\n    filter(fetchData.match),\\n    mergeMap((action) =>\\n      getUserName().pipe(map((response) => updateName(response.name)))\\n    )\\n  );\\n\\n/**\\n * Slice\\n */\\nexport const todoSlice = createSlice({\\n  name: \\"todo\\",\\n  initialState,\\n  reducers: {},\\n  extraReducers: (builder) => {\\n    builder\\n      .addCase(increment, (state, action: PayloadAction<number>) => {\\n        return {\\n          ...state,\\n          count: state.count + action.payload,\\n        };\\n      })\\n      .addCase(decrement, (state, action: PayloadAction<number>) => {\\n        return {\\n          ...state,\\n          count: state.count - action.payload,\\n        };\\n      })\\n      .addCase(updateName, (state, action: PayloadAction<string>) => {\\n        return {\\n          ...state,\\n          name: action.payload,\\n        };\\n      });\\n  },\\n});\\n\\n/**\\n * Reducer\\n */\\nexport default todoSlice.reducer;\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"epics\\" label=\\"store/epics.ts\\">\\n\\n```ts\\nimport { combineEpics } from \\"redux-observable\\";\\nimport { fetchUserEpic as TodoFetchUserEpic } from \\"./slices/todo.slice\\";\\n\\nexport const rootEpic = combineEpics(TodoFetchUserEpic);\\n\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"fakeApi\\" label=\\"store/fakeApi.ts\\">\\n\\n```ts\\nimport { map, timer } from \\"rxjs\\";\\n\\nexport const fakeApi = {\\n  getUserName: () =>\\n    timer(2000).pipe(map(() => ({ name: \\"Monica\\" }))),\\n};\\n\\n```\\n\\n</TabItem>\\n\\n<TabItem value=\\"store-config\\" label=\\"store/store.config.ts\\">\\n\\n```ts\\nimport { fakeApi } from \\"./fakeApi\\";\\nimport { configureStore } from \\"@reduxjs/toolkit\\";\\nimport rootReducer from \\"./reducers\\";\\nimport { createEpicMiddleware, Epic } from \\"redux-observable\\";\\nimport { Action } from \\"@reduxjs/toolkit\\";\\nimport { rootEpic } from \\"./epics\\";\\n\\n// type definition\\nexport type AppState = ReturnType<typeof rootReducer>; // for useSelector\\nexport type AppDispatch = typeof store.dispatch;\\nexport type AppEpic = Epic<Action, Action, AppState, typeof fakeApi>;\\n\\nexport const epicMiddleware = createEpicMiddleware<\\n  Action,\\n  Action,\\n  AppState,\\n  typeof fakeApi\\n>({\\n  dependencies: fakeApi,\\n});\\n\\n// \u900f\u904e configureStore() \u5efa\u7acb Redux Store\\nexport const store = configureStore({\\n  reducer: rootReducer,\\n  middleware: (getDefaultMiddleware) => [\\n    ...getDefaultMiddleware(),\\n    epicMiddleware,\\n  ],\\n});\\n\\nexport type RootState = ReturnType<typeof store.getState>;\\n\\n// epicMiddleware\u57f7\u884c\u5fc5\u9808\u8981\u5728\u521d\u59cbstore\u4e4b\u5f8c\\nepicMiddleware.run(rootEpic);\\n\\n\\n```\\n\\n</TabItem>\\n</Tabs>\\n\\n\u5728Redux\u88e1\u9762\u7684Middleware\u57f7\u884c\u9ede\u662fDispatch Action\u5f8c\u8207\u9032\u5230Reducer\u4e4b\u524d\\n\\n\u6240\u4ee5\u975e\u540c\u6b65\u7684\u52d5\u4f5c\u6211\u5011\u90fd\u6703\u5728Middleware\u88e1\u9762\u5be6\u4f5c\\n\\n\u6211\u5011\u9019\u908a\u975e\u540c\u6b65\u4f7f\u7528redux-observable\u88e1\u7684Epic\\n\\n\u9019\u500b\u5982\u679c\u5728Angular\u4e0a\u4f7f\u7528\u7684ngrx\u88e1\u662f\u76f8\u7576\u65bceffect\u7684\u89d2\u8272\\n\\n\u7279\u9ede\u5728\u65bcAction in Action out\\n\\n\u4ed6\u7684\u751f\u547d\u9031\u671f\u5927\u6982\u662f\u9019\u6a23\\n\\n![](./images/04.png)\\n\\n\u56de\u5230<code>App.tsx</code>\u9019\u908a\u505a\u4fee\u6539\\n\\n```tsx {10, 19-29}\\nimport { useObservable, useObservableState } from \\"observable-hooks\\";\\nimport { useDispatch, useSelector } from \\"react-redux\\";\\nimport { map } from \\"rxjs\\";\\nimport reactLogo from \\"./assets/react.svg\\";\\nimport { decrement, fetchData, increment } from \\"./store/slices/todo.slice\\";\\nimport { RootState } from \\"./store/store.config\\";\\n\\nfunction App() {\\n  const count = useSelector((state: RootState) => state.todoStore.count);\\n  const name = useSelector((state: RootState) => state.todoStore.name);\\n  const dispatch = useDispatch();\\n  const twiceCount = useObservableState(\\n    useObservable((obs$) => obs$.pipe(map(([v]) => v * 2)), [count])\\n  );\\n\\n  return (\\n    <div className=\\"flex flex-col\\">\\n      ...\\n      <div className=\\"w-full flex justify-around p-10\\">\\n        <button\\n          className=\\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\\"\\n          onClick={() => dispatch(fetchData())}\\n        >\\n          launch api\\n        </button>\\n\\n        <div>name: {name}</div>\\n      </div>\\n    </div>\\n  );\\n}\\n\\nexport default App;\\n\\n```\\n\\n\u9019\u908a\u5c31\u5b8c\u6210redux\u88e1\u6253Api\u7b49\u975e\u540c\u6b65\u8655\u7406\u7684\u52d5\u4f5c\u4e86\\n\\n\u5728\u756b\u9762\u4e0a\u6309\u4e0blaunch api, \u5169\u79d2\u5f8c\u6703\u66f4\u65b0store, \u9810\u671f\u6703\u770b\u5230name\u5f9esayaku\u63db\u6210monica\\n\\n\u9019\u908a\u6211\u5011\u7684api\u662f\u505a\u5047\u7684\\n\\n\u800c\u5be6\u969b\u4e0a\u771f\u5be6\u8981\u6253Api\u6211\u6703\u53e6\u5916\u4f7f\u7528axios\\n\\naxios-observable\u5247\u662f\u4f7f\u7528rxjs\u5c07axios\u5305\u88dd\u8d77\u4f86\\n\\n\u540c\u6642\u4e5f\u80fd\u505a\u6514\u622a\u5668\\n\\n\u662f\u500b\u5f88\u65b9\u4fbf\u7684\u5957\u4ef6\\n\\n\u4e00\u6a23\u4e5f\u662f\u628a\u5b83\u88dd\u8d77\u4f86\\n\\n```bash\\n$yarn add axios axios-observable\\n```\\n\u7c21\u55ae\u7684\u64cd\u4f5cGET/POST\u5982\u4e0b\\n\\n```tsx title=GET\\nimport Axios from  \'axios-observable\';\\n// or const Axios = require(\'axios-observable\').Axios;\\n\\n// Make a request for a user with a given ID\\nAxios.get(\'/user?ID=12345\')\\n  .subscribe(\\n    response => console.log(response),\\n    error => console.log(error)\\n  );\\n```\\n\\n```tsx title=POST\\nAxios.post(\'/user\', {\\n    firstName: \'Fred\',\\n    lastName: \'Flintstone\'\\n  })\\n   .subscribe(\\n    response => console.log(response),\\n    error => console.log(error)\\n  );\\n```\\n\\n\u70ba\u4ec0\u9ebc\u4f7f\u7528rx\u7684observable\u6703\u512a\u65bcpromise\\n\\n\u6bd4\u5982\u4e00\u500b\u60c5\u5883\\n\\n\u6211\u5728\u6253API\u5931\u6557\u5f8c\u8981retry, retry\u6b21\u65783\u6b21\\n\\n\u4f60\u53ef\u4ee5\u60f3\u60f3\u5728promise\u7684\u5beb\u6cd5\u6703\u591a\u9ebb\u7169\\n\\n\u7528observable\u7684\u5beb\u6cd5\u5c31\u6703\u76f4\u89ba\u5f88\u591a\\n\\n```tsx \\nAxios.post(\'/user\', {\\n    firstName: \'Fred\',\\n    lastName: \'Flintstone\'\\n  })\\n  .pipe(\\n  \\tretry(3)\\n  )\\n   .subscribe(\\n    response => console.log(response),\\n    error => console.log(error)\\n  );\\n```\\n\\n\u76f8\u95dc\u529f\u80fd\u8207api\u5f88\u591a\u53ef\u4ee5\u53c3\u95b1[repo](https://github.com/zhaosiyang/axios-observable#readme)\\n\\n\u4ee5\u4e0a\u5c31\u662f\u6211\u5de5\u4f5c\u4e0a\u57fa\u672c\u4e0a\u6703\u7528\u5230\u7684\u914d\u7f6e\\n\\n\u50cf\u662f\u9084\u6709\u5176\u4ed6code\u7ba1\u7406\u4f8b\u5982husky\\n\\n\u6216\u662f\u95dc\u65bcTesting\u7684\u90e8\u5206\u4e4b\u5f8c\u518d\u53e6\u958b\u7bc7\u5e45\u4f86\u65b0\u589e\\n\\n\u76ee\u524d\u7684code\u4e5f\u76f4\u63a5\u8b8a\u6210\u4e00\u500b\u65b0\u5c08\u6848\u7684\u7bc4\u672c\\n\\n\u4ee5\u5f8c\u76f4\u63a5\u9019\u6a23\u4e0b\u5c31\u53ef\u4ee5\u4e86\\n\\n```bash\\n$ npx degit sayaku/viteReactTemplate new_react_project\\n```"},{"id":"/2022/11/10/mtb-hopper-ramp-lite","metadata":{"permalink":"/blog/2022/11/10/mtb-hopper-ramp-lite","editUrl":"https://github.com/sayaku/sayaku.github.io/edit/main/blog/2022-11-10-mtb-hopper-ramp-lite/index.md","source":"@site/blog/2022-11-10-mtb-hopper-ramp-lite/index.md","title":"MTB Hopper Lite","description":"\u7db2\u8def\u4e0a\u770b\u5230\u9019\u500b\u6709\u8da3\u7684\u7522\u54c1- MTB HOPPER","date":"2022-11-10T16:00:12.000Z","formattedDate":"2022\u5e7411\u670810\u65e5","tags":[{"label":"mtb","permalink":"/blog/tags/mtb"},{"label":"mtb-hopper","permalink":"/blog/tags/mtb-hopper"}],"readingTime":3.415,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"MTB Hopper Lite","date":"2022-11-10 16:00:12 +0800","tags":["mtb","mtb-hopper"]},"prevItem":{"title":"vite-react-extension","permalink":"/blog/2022/11/16/vite-react-extension"},"nextItem":{"title":"vite+react+typescript+prettier+eslint","permalink":"/blog/2022/11/08/build-project-react-with-vite"}},"content":"![](images/cover.jpeg)\\n\\n\u7db2\u8def\u4e0a\u770b\u5230\u9019\u500b\u6709\u8da3\u7684\u7522\u54c1- MTB HOPPER\\n\\n\u7c21\u55ae\u4f86\u8aaa\u5c31\u662f\u500b\u53ef\u4ee5\u7c21\u6613\u7d44\u5408\u62c6\u88dd\u65b9\u4fbf\u651c\u5e36\u7684\u884c\u52d5\u8df3\u53f0\\n\\n\u5be6\u969b\u64cd\u4f5c\u7db2\u8def\u4e0a\u641c\u5c0bMTB HOPPER\u61c9\u8a72\u6703\u6709\u4e00\u5806\u7bc4\u4f8b\u5f71\u7247\\n\\n\u9019\u908a\u4e3b\u8981\u7d00\u9304\u4ed6\u600e\u9ebc\u7d44\u5408\u8207\u6536\u7d0d\\n\x3c!--truncate--\x3e\\n## Unboxing / Assembly\\n![](images/01.png)\\n\\n\u9001\u4f86\u6642\u5c31\u662f\u500b\u7c21\u55ae\u7684\u7d19\u7bb1\\n\\n![](images/02.png)\\n\\n\u958b\u7bb1\u5167\u5bb9\u5c31\u662f\u4e00\u5f35\u5f88\u7c21\u55ae\u7684\u8aaa\u660e\u66f8\\n\\n\u5167\u5bb9\u5b98\u7db2\u6709\u4e00\u4efdpdf\u53ef\u4f9b[\u4e0b\u8f09](https://cdn.shopify.com/s/files/1/2484/8112/files/LITE.pdf?v=1613927342)\\n\\n![](images/03.png)\\n\\n\u62ff\u51fa\u4f86\u5c31\u50cf\u4e00\u500b\u5c0f\u516c\u4e8b\u5305\\n\\n\u91cd\u91cf\u7d04\u4e94\u516c\u65a4\\n\\n\u53e6\u4e00\u9762\u6709\u96d9\u80a9\u80cc\u5e36\\n\\n\u9a0eMTB\u80cc\u500b5KG\u61c9\u8a72\u6c92\u5565\u554f\u984c\\n\\n\u516c\u4e8b\u5305\u6253\u958b\u5f8c\u6703\u6709\u9019\u4e9b\u96f6\u4ef6\\n\\n![](images/04.png)\\n\\n\u57fa\u672c\u4e0a\u975e\u5e38\u597d\u7d44\\n\\n\u4e0d\u7528\u770b\u8aaa\u660e\u66f8\u6162\u6162\u6478\u7d22\u90fd\u77e5\u9053\u600e\u9ebc\u7d44\\n\\n\u96f6\u4ef6\u4e0a\u9762\u4e5f\u6709\u5c0d\u61c9\u63a5\u5408\u7684\u7de8\u865f\\n\\n\u6309\u7167\u865f\u78bc\u63a5\u8d77\u4f86\u57fa\u672c\u4e0a\u4e0d\u6703\u63a5\u932f\\n\\n\u63a5\u597d\u4ee5\u5f8c\u5c31\u662f\u500b\u8df3\u53f0\u7684\u6a23\u5b50\\n\\n\u9019\u500b\u8df3\u53f0\u53ef\u4ee5\u8abf\u9ad8\u5ea6\\n\\n\u6700\u4f4e\u7684\u9ad8\u5ea6\u5c31\u662f\u9577\u9019\u500b\u6a23\u5b50\\n\\n![](images/05.png)\\n\\n\\n\u9019\u6a23\u770b\u597d\u50cf\u9084\u597d\\n\\n\u7b49\u4f60\u771f\u7684\u9a0e\u4e0a\u8eca\u5f80\u8df3\u53f0\u770b\u904e\u53bb\u6703\u89ba\u5f97\\n\\n\u5abd\u5440\u9019\u597d\u50cf\u6709\u9ede\u9ad8\u6709\u9ede\u9661\\n\\n\u6211\u627f\u8a8d\u7b2c\u4e00\u6b21\u8df3\u771f\u7684\u8981\u514b\u670d\u6050\u61fc\\n\\n\u4ec0\u9ebc\u8df3\u53f0\u8981\u9818: \u5e73\u8861, \u8e72\u4f4e, \u8d77\u8df3\\n\\n\u65e9\u5c31\u5fd8\u4e86...\\n\\n\u8a18\u5f97\u91cd\u5fc3\u4e0d\u8981\u5f80\u524d\u9762\uff0c\u4e0d\u7136\u8d77\u8df3\u5f8c\u8173\u6703\u88ab\u5f48\u98db\uff08\u7b2c\u4e00\u6b21\u8df3\u53f0\u4e0d\u77e5\u9053\u5c31\u662f\u9019\u6a23\u98db\u51fa\u53bb\u7684\uff09\\n\\n\u6240\u4ee5\u624d\u8cb7\u9019\u500b\u7522\u54c1\u4f86\u7df4\u8df3\u53f0\\n\\n\u8d77\u8df3\u6642\u91cd\u5fc3\u6703\u5728\u5f8c\u8f2a\u4e0a, \u5c41\u80a1\u4f4d\u7f6e\u61c9\u8a72\u6703\u5728\u5f8c\u8f2a\u8ef8\u5fc3\u7684\u6b63\u4e0a\u65b9\uff08\u5b98\u7db2\u5efa\u8b70\u7684\uff09\\n\\n\u591a\u8df3\u5e7e\u6b21\u597d\u50cf\u5c31\u6293\u5230\u8981\u9818\u4e86\\n\\n<iframe width=\\"320\\" height=\\"560\\" src=\\"https://www.youtube.com/embed/OtP-bDZb22Q\\" title=\\"November 16, 2022\\" frameborder=\\"0\\" allow=\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\\" allowfullscreen></iframe>\\n\\n\\n\u6162\u52d5\u4f5c\\n\\n<iframe width=\\"320\\" height=\\"560\\" src=\\"https://www.youtube.com/embed/Iv9SkHC57vo\\" title=\\"November 16, 2022\\" frameborder=\\"0\\" allow=\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\\" allowfullscreen></iframe>\\n\\n## Disassembly / Fold\\n\\n\u5176\u5be6\u6703\u88dd\u5c31\u6703\u62c6\\n\\n\u554f\u984c\u662f\u62c6\u4e86\u4ee5\u5f8c\u6211\u5fd8\u8a18\u7576\u521d\u662f\u600e\u9ebc\u653e\u7684\\n\\n\u9019\u908a\u8a18\u9304\u4e00\u4e0b\\n\\n\u4e2d\u9593\u5169\u7247\u652f\u67b6\u653e\u6700\u4e0b\u9762\\n\\n\u7136\u5f8c\u5169\u500b\u5074\u8173\u6298\u8d77\u4f86\u4ea4\u758a\\n\\n\u6700\u5f8c\u662f\u6b63\u9762\u53ef\u8abf\u9ad8\u5ea6\u7684\u5927\u8173\u653e\u6700\u4e0a\u9762\\n\\n![](images/06.png)\\n\\n\u9019\u6a23\u5c31\u53ef\u4ee5\u5b8c\u6574\u6536\u5408\\n\\n![](images/07.png)\\n\\n\u90a3\u8981\u600e\u9ebc\u56fa\u5b9a\u6536\u5408\u5462\uff1f\\n\\n\u7576\u521d\u9019\u908a\u5361\u95dc\u5361\u8d85\u4e45\\n\\n\u539f\u4f86\u662f\u4e0a\u65b9\u90a3\u4e00\u689d\u7e69\u5b50\u62c9\u5230\u90a3\u500b\u6d1e\u6d1e\u5361\u4f4f\u5c31\u5b8c\u6210\u56fa\u5b9a\u4e86\\n\\n\u770b\u4e0b\u9762\u5206\u89e3\u5716\\n\\n![](images/09.png)\\n\\n![](images/10.png)\\n\\n\u5169\u908a\u90fd\u505a\u4e00\u6a23\u7684\u52d5\u4f5c\\n\\n\u9019\u6a23\u5c31\u5b8c\u6210\u56fa\u5b9a\u4e86\\n\\n\\n\u5b8c\u6210\uff01\uff01\u9019\u662f\u6709\u96d9\u80a9\u80cc\u5e36\u7684\u90a3\u4e00\u9762\\n\\n\u4e00\u6a23\u4e5f\u662f\u53ef\u4ee5\u8abf\u80cc\u5e36\u9b06\u7dca\\n\\n![](images/11.jpeg)\\n\\n\u9019\u500b\u8df3\u53f0\u6574\u9ad4\u4f86\u8aaa\u771f\u7684\u8a2d\u8a08\u5f97\u5f88\u68d2\\n\\n\u53ef\u651c\u5f0f\u8df3\u53f0\u771f\u662f\u4e00\u5927\u8a98\u56e0\\n\\n\u80cc\u8457\u9a0e\u5230\u54ea\u5c31\u80fd\u7d44\u8df3\u53f0\u73a9\u98db\u8df3\\n\\nyoutube\u4e0a\u6709\u5c55\u793a\u6b64\u8df3\u53f0\u7684\u5f88\u591a\u61c9\u7528\\n\\n\u6709\u770b\u5230\u62ff\u53bb\u73a9\u8857\u6500\u7684\u5404\u7a2e\u8a87\u5f35\u6280\u5de7\\n\\n![](images/cover2.jpg)"},{"id":"/2022/11/08/build-project-react-with-vite","metadata":{"permalink":"/blog/2022/11/08/build-project-react-with-vite","editUrl":"https://github.com/sayaku/sayaku.github.io/edit/main/blog/2022-11-08-build-project-react-with-vite/index.md","source":"@site/blog/2022-11-08-build-project-react-with-vite/index.md","title":"vite+react+typescript+prettier+eslint","description":"\u6bcf\u6b21\u8981\u5beb\u4e00\u500b\u65b0\u7684\u5c08\u6848\u90fd\u8981\u91cd\u65b0\u8a2d\u5b9a\u4e00\u6b21\u74b0\u5883","date":"2022-11-08T10:00:12.000Z","formattedDate":"2022\u5e7411\u67088\u65e5","tags":[{"label":"vite","permalink":"/blog/tags/vite"},{"label":"react","permalink":"/blog/tags/react"}],"readingTime":7.97,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"vite+react+typescript+prettier+eslint","date":"2022-11-08 10:00:12 +0800","tags":["vite","react"]},"prevItem":{"title":"MTB Hopper Lite","permalink":"/blog/2022/11/10/mtb-hopper-ramp-lite"},"nextItem":{"title":"Study: Refactoring - Encapsulate","permalink":"/blog/2020/07/27/study-refactoring"}},"content":"\u6bcf\u6b21\u8981\u5beb\u4e00\u500b\u65b0\u7684\u5c08\u6848\u90fd\u8981\u91cd\u65b0\u8a2d\u5b9a\u4e00\u6b21\u74b0\u5883\\n\\n\u4e45\u4e86\u4e5f\u662f\u5f88\u7169\\n\\n\u4e0d\u5982\u5beb\u4e00\u500b\u7bc4\u672c\u6a21\u677f\u4f86\u4f7f\u7528\\n\\n\u9019\u6b21\u8a66\u8457\u5efa\u7acb\u642d\u914dvite\u7684react\u5c08\u6848\u6a21\u677f\\n\\n\x3c!--truncate--\x3e\\n\\n## Install vite/react/typescript\\n\u6309\u7167\u5b98\u7db2\u8d77\u624b\u5f0f\\n\\n``` bash\\n$ yarn create vite\\n```\\n\u5b89\u88dd\u904e\u7a0b\u4e2d\u6703\u554f\u4f60\\n\\n1. \u5c08\u6848\u540d\u7a31,\u540d\u7a31\u5c31\u5148\u53ebreactSample\u5427\\n2. \u8981\u642d\u914d\u54ea\u500b\u524d\u7aef\u6846\u67b6\\n3. \u8981\u9078\u7528js\u9084\u662fts\\n\\n\\n![](images/01.png)\\n\\n\u5982\u679c\u4f60\u4e0d\u60f3\u90a3\u9ebc\u56c9\u5506\u4e5f\u53ef\u4ee5\u4e0b\u4ee5\u4e0b\u6307\u4ee4\\n\\n```bash\\n$ yarn create vite reactSample --template react-ts\\n```\\n\\n\u4e4b\u5f8c\u6703\u5efa\u69cb\u4e00\u500b\u540d\u70bareactSample\u7684\u8cc7\u6599\u593e\uff0c\u8cc7\u6599\u593e\u7d50\u69cb\u5982\u4e0b\\n\\n![](images/02.png)\\n\\n\u770b\u5f97\u51fa\u4f86\u9084\u6c92\u5b89\u88dd\u4f9d\u8cf4\u7684node_modules\\n\\n\u88dd\u4e00\u4e0b(\u8a18\u5f97\u8981\u5148\u9032\u5230\u525b\u525b\u5275\u5efa\u597d\u7684reactSample\u76ee\u9304\u88e1)\\n\\n```bash\\n$ cd reactSample && yarn install\\n```\\n\u6069\uff01\\n\\n\u5230\u76ee\u524d\u70ba\u6b62vite/react/typescript\u90fd\u5df2\u7d93\u88dd\u597d\u4e86\\n\\n\u53ef\u4ee5\u7c21\u55ae\u7684\u6e2c\u8a66\\n\\n```bash\\n$ yarn run dev\\n```\\n\\n\u6069\uff01\u6b63\u5e38\u4f5c\u52d5\uff01\uff01\\n\\n![](images/20.png)\\n\\n\\n\u63a5\u4e0b\u4f86\u88dd\u958b\u767c\u6642\u9700\u8981\u7684\u975c\u614b\u6aa2\u67e5\u5de5\u5177\\n\\n## Install Eslint\\n\\n\u975c\u614b\u6aa2\u67e5\u5de5\u5177\u53ef\u4ee5\u5728\u958b\u767c\u968e\u6bb5\u5c31\u5148\u6aa2\u6e2c\u51fa\u4f60\u7684\u7a0b\u5f0f\u78bc\u662f\u5426\u6709\u7c21\u55ae\u908f\u8f2f\u6216\u662f\u683c\u5f0f\u751a\u81f3\u65bc\u62fc\u5b57\u4e0a\u7684\u932f\u8aa4\\n\\ntypescript\u6709tslint\u7684\u975c\u614b\u6aa2\u67e5\u5de5\u5177, \u4f46\u529f\u80fd\u8ddfeslint\u5927\u540c\u5c0f\u7570\\n\\n\u5f8c\u4f86\u975c\u614b\u6aa2\u67e5\u529f\u80fd\u5c31\u8ddfeslint\u5408\u4f75\u7136\u5f8ctslint\u5c31\u88ab\u68c4\u7528\u4e86\uff08\u5e6bQQ\uff09\\n\\n\u90a3\u6211\u5011\u4f86\u88ddeslint\u5427\\n\\n```bash\\n$ yarn add -D eslint\\n```\\n\u914d\u7f6e\u521d\u59cb\u8a2d\u5b9a\u6587\u4ef6\u6a94\\n\\n```bash\\n$ npx eslint --init\\n```\\n\u904e\u7a0b\u4e2d\u904e\u7a0b\u4e2d\u5b89\u88dd\u5c0f\u5e6b\u624b\u6703\u554f\u5e7e\u500b\u9078\u9805\\n\\n![](images/03.png)\\n\\n\u9078\u7b2c\u4e8c\u9805<code>To check syntax and find problems</code>\\n\\n\u6211\u5011\u665a\u9ede\u6703\u4f7f\u7528prettier\u4f86\u5f37\u5236\u57f7\u884c\u9019\u500b\u8a2d\u5b9a\\n\\n![](images/04.png)\\n\\n\u6211\u5011\u7528react+typescript\u90a3\u7576\u7136\u5c31\u662f\u9078\u7b2c\u4e00\u500b\u56c9\\n\\n![](images/05.png)\\n\\n\u9019\u908a\u6703\u554f\u4f60\u4ee5\u4e0b\u9019\u4e9b\u4f9d\u8cf4\u5957\u4ef6\u8981\u4e00\u8d77\u5b89\u88dd,\u4f60\u662f\u5426\u8981\u4e00\u8d77\u5b89\u88dd\uff1f\\n\\n\u4f46\u56e0\u70ba\u9019\u908a\u5b89\u88dd\u7684\u5957\u4ef6\u662f\u4f7f\u7528NPM,\u6211\u5011\u4f7f\u7528\u7684\u662fyarn,\u6240\u4ee5\u5148\u9078\u64c7<code>NO</code>\\n\\n\u6539\u7528\u4e0b\u9762yarn\u7684\u5beb\u6cd5\\n```bash\\n$ yarn add -D eslint-plugin-react@latest @typescript-eslint/eslint-plugin@latest @typescript-eslint/parser@latest\\n```\\n\u57fa\u672c\u4e0a\u4f60\u7684\u57fa\u790eeslint\u8a2d\u5b9a\u6a94\u5df2\u7d93\u5efa\u51fa\u4f86\u4e86\\n\\n![](images/06.png)\\n\\n\u5c0d\u4e86\uff01\u5728\u4e0a\u9762\u5c0f\u5e6b\u624b\u8a2d\u5b9a\u904e\u7a0b\u4e2d\u4ed6\u6703\u554f\u4f60\u8a2d\u5b9a\u6a94\u8981\u7528\u4ec0\u9ebc\u683c\u5f0f,\u53ef\u4ee5\u81ea\u5df1\u7fd2\u6163\u7528\u4ec0\u9ebc\u683c\u5f0f\u800c\u5b9a\\n\\n\u6211\u9019\u908a\u662f\u7528<code>json</code>, \u6240\u4ee5\u7522\u51fa\u4e00\u500b<code>.eslintrc.json</code>\u7684\u6a94\u6848\\n\\n\u63a5\u8457\u5b89\u88dd\u4e00\u4e9b\u4f9d\u8cf4\u5957\u4ef6\u8b93eslint\u8ddftypescript\u95dc\u806f\\n\\n```bash\\n$ yarn add -D eslint-plugin-import @typescript-eslint/parser eslint-import-resolver-typescript\\n```\\n\\n## Install Prettier\\n\\nPrettier\u662f\u4e00\u500b\u7a0b\u5f0f\u78bc\u683c\u5f0f\u5316\u7684\u5957\u4ef6\\n\\n\u672c\u8eab\u4e26\u4e0d\u50cfEslint\u53bb\u57f7\u884c\u975c\u614b\u6aa2\u67e5\\n\\n\u6211\u5011code\u5beb\u4e45\u4e86\u5e38\u5e38\u7e2e\u6392\u8dd1\u6389\u6216\u662f\u62ec\u865f\u5c11\u500b\u7a7a\u683c\u7b49\u7b49\\n\\n\u5c24\u5176\u662f\u5718\u968a\u5bebcode\u6642\u5927\u5bb6\u5beb\u7684\u98a8\u683c\u4e0d\u4e00\u6a23,\u770b\u8d77\u4f86\u5c31\u5f88\u96e3\u95b1\u8b80\\n\\n\u6240\u4ee5\u6709\u500b\u53ef\u4ee5\u7d71\u4e00\u98a8\u683c\u7684\u5de5\u5177\u662f\u5f88\u91cd\u8981\u7684\\n\\n\u6240\u4ee5\u5ee2\u8a71\u4e0d\u591a\u8aaa\\n\\n\u76f4\u63a5\u5b89\u88dd\u76f8\u95dc\u7684\u5957\u4ef6\\n\\n```bash\\n$ yarn add -D prettier eslint-config-prettier eslint-plugin- prettier eslint-plugin-react-hooks\\n```\\n\\n\u88dd\u5b8c\u5f8c\u65b0\u589e\u4e00\u500b\u7a7a\u767d\u7684prettier\u8a2d\u5b9a\u6a94<code>.prettierrc</code>\\n\\n```bash\\n$ touch .prettierrc\\n```\\n\\n\u5982\u4e0b\u5716\\n\\n![](images/07.png)\\n\\n\u518d\u4f86\u662fvscode\u4e5f\u8981\u5b89\u88dd\u76f8\u95dc\u63d2\u4ef6,\u9019\u6a23\u6709\u932f\u8aa4\u6642\u624d\u6703\u5e6b\u4f60\u9ad8\u4eae\u51fa\u4f86\uff38\uff24\\n\\n\u63d2\u4ef6\u767e\u767e\u7a2e\\n\\n\u6211\u81ea\u5df1\u662f\u7528\u661f\u661f\u6578\u6700\u591a\u7684\u62c9\\n\\n![](images/16.png)\\n\\n\u88dd\u5b8c\u555f\u7528\u5f8c\u61c9\u8a72\u5728\u8cc7\u8a0a\u5217\u6703\u6709prettier\u7684\u5716\u793a\u9078\u9805\\n\\n![](images/17.png)\\n\\n## eslintrc setting\\n\\n\u5275\u5efa\u5b8c<code>.prettierrc</code>\u5f8c\u53ef\u4ee5\u4f86\u8a2d\u5b9aeslintrc\u64f4\u5145\u90e8\u5206\\n\\n\u5728extends\u90e8\u5206\u6dfb\u52a0prettier\\n\\n![](images/08.png)\\n\\n\u95dc\u65bceslint\u7684rules\u7684\u90e8\u5206\\n\\n\u901a\u5e38\u662f\u6839\u64da\u5718\u968a\u7684\u7fd2\u6163\u81ea\u5df1\u53bb\u5236\u5b9a\\n\\n[\u53ef\u4ee5\u53c3\u8003\u76f8\u95dceslint\u7684\u898f\u5247](https://eslint.org/docs/latest/rules/)\\n\\n\u5728plugin\u7684\u90e8\u5206\u4e5f\u8a18\u5f97\u8981\u6dfb\u52a0prettier\u76f8\u95dc\u7684\u63d2\u4ef6\\n\\n![](images/09.png)\\n\\n\u6700\u5f8c\u4e00\u500b\u8a2d\u5b9a\u662f\u8a2d\u5b9atypescript\u7684import\u89e3\u6790\u5668\\n\\n![](images/10.png)\\n\\n\u9019\u6a23\u5c31\u5dee\u4e0d\u591a\u8a2d\u5b9a\u5b8c\u4e86\\n\\n\u53ef\u4ee5\u4f86\u6e2c\u8a66\u4e00\u4e0b\\n\\n\u6211\u5011\u5728<code>package.json</code>\u7684script\u589e\u52a0\u5e7e\u500b\u6307\u4ee4\\n\\n![](images/11.png)\\n\\n\u8a2d\u5b9a\u5b8c\u5f8c\\n\\n\u96a8\u4fbf\u5728\u4efb\u4f55\u4e00\u96bb\u6a94\u6848\u88e1\u9762\u6dfb\u52a0\u4e00\u500b\u660e\u986f\u4e0d\u6703\u901a\u904e\u898f\u5247\u7684\u932f\u8aa4\\n\\n\u4f8b\u5982\u6211\u5728App.tsx\u65b0\u589e\u4e00\u500b<code>let a= 0</code>\\n\\n![](images/12.png)\\n\\n\u5176\u5be6\u5728\u5beb\u7684\u7576\u4e0b\u7de8\u8f2f\u5668\u5df2\u7d93\u51fa\u73fe\u7d05\u8272\u6bdb\u6bdb\u87f2\u8b66\u544a\u4f60\u9019\u908a\u6703\u6709\u554f\u984c\u4e86\\n\\n\u4f46\u9019\u908a\u5148\u4e0d\u7406\u4ed6\\n\\n\u63a5\u8457\u6211\u5011\u6253\u6307\u4ee4\\n\\n```bash\\n$ yarn run lint\\n```\\n\\n\u9019\u6642eslint\u5c31\u6703\u544a\u8a34\u4f60\u54ea\u500b\u6a94\u6848\u54ea\u4e00\u884c\u7684\u7a0b\u5f0f\u78bc\u6c92\u6709\u901a\u904e\u9a57\u8b49\\n\\n![](images/13.png)\\n\\n\u7576\u7136eslint\u4e5f\u6703\u63d0\u793a\u4f60\u53ef\u4ee5\u4f7f\u7528<code>--fix</code>\u53c3\u6578\\n\\n\u4f86\u81ea\u52d5\u5e6b\u4f60\u4fee\u6b63\u932f\u8aa4\\n\\n\u53ef\u4ee5\u8a66\u8457\u57f7\u884c\u525b\u525b\u5728package.json\u88e1\u7684script\u53e6\u5916\u65b0\u589e\u7684<code>lint:fix</code>\\n\\n```bash\\n$ yarn run lint:fix\\n```\\n\u6703\u767c\u73feeslint\u6703\u5e6b\u4f60\u6839\u64da\u898f\u5247\u628a\u932f\u8aa4\u4fee\u5fa9\\n\\n![](images/14.png)\\n\\n\u4f46\u539f\u5247\u4e0a\u9019\u529f\u80fd\u9084\u662f\u5c11\u7528, \u56e0\u70ba\u9084\u662f\u81ea\u5df1\u624b\u52d5\u770b\u932f\u8aa4\u81ea\u5df1\u6539\u624d\u6bd4\u8f03\u8e0f\u5be6\\n\\n## eslintignore\\n\\n\u9019\u6642\u5019\u9084\u80fd\u518d\u53e6\u5916\u8a2d\u5b9a\u54ea\u4e9b\u6a94\u6848\u4e0d\u60f3\u88ab\u6aa2\u67e5\\n\\n\u53ef\u4ee5\u53e6\u5916\u5275\u5efa<code>.eslintignore</code>\\n\\n```bash\\n$ touch .eslintignore\\n```\\n\u50cf\u662f\u5982\u679c\u525b\u525b\u7684App.tsx\u4e0d\u60f3\u88ab\u6aa2\u67e5\u7684\u8a71\\n\\n\u53ef\u4ee5\u76f4\u63a5\u5beb\\n\\n![](images/15.png)\\n\\n\u9019\u6a23eslint\u5c31\u6703\u7565\u904e\u4e0d\u6aa2\u67e5\u9019\u500b\u6a94\u6848\\n\\n## prettier setting\\n\\nprettier\u8a2d\u5b9a\u7684\u90e8\u5206\\n\\n\u53ef\u4ee5\u6839\u64da\u5718\u968a\u4f7f\u7528\u7fd2\u6163\u5728<code>.prettierrc</code>\u52a0\u4e0a\u898f\u5247\\n\\n\u898f\u5247\u7684\u90e8\u5206\u53ef\u4ee5\u53c3\u8003\u5b98\u7db2:[\u9ede\u6211](https://prettier.io/playground/)\\n\\n\u6211\u81ea\u5df1\u7684\u8a2d\u5b9a\u662f\u9019\u6a23\u62c9\\n\\n```json\\n{\\n  \\"semi\\": true,\\n  \\"tabWidth\\": 4,\\n  \\"printWidth\\": 100,\\n  \\"singleQuote\\": true,\\n  \\"trailingComma\\": \\"all\\",\\n  \\"jsxSingleQuote\\": true,\\n  \\"bracketSpacing\\": true\\n}\\n```\\n\\n\u63a5\u4e0b\u4f86\u505a\u6e2c\u8a66\\n\\n\u96a8\u4fbf\u62ff\u500b\u6a94\u6848\u9019\u6b21\u627e<code>main.tsx</code>\\n\\n\u523b\u610f\u628a\u88e1\u9762\u7684\u683c\u5f0f\u6253\u4e82\u7136\u5f8c\u7e2e\u6392\u4e82\u51f8\\n\\n![](images/18.png)\\n\\n\u9019\u6642\u5019\u6309\u4e0b\u9375\u76e4<code>shift</code>+<code>alt</code>+<code>F</code>\\n\\nmacOS\u8acb\u7528<code>\u21e7Shift</code>+<code>\u2325Option</code>+<code>F</code>\\n\\n![](images/19.png)\\n\\n\u4f60\u6703\u770b\u5230prettier\u5e6b\u4f60\u628a\u7e2e\u6392\u7e2e\u597d,\u907a\u5931\u7684\u53e5\u5c3e\u5206\u865f\u4e5f\u88dc\u4e0a\u53bb\u4e86\\n\\n## \u88fd\u4f5c\u7bc4\u672c\\n\u4f7f\u7528[degit](https://github.com/Rich-Harris/degit)\u9019\u6a23\u7684\u5de5\u5177\\n\\n\u53ea\u8981github\u4e0a\u7684repo\u90fd\u53ef\u4ee5\u7576\u6210\u7bc4\u672c,\u7576\u7136\u5176\u4ed6\u7684gitlab\u4e4b\u985e\u7684repo\u4e5f\u53ef\\n\\n\u4ee5\u5f80\u6211\u5011\u53ef\u80fd\u6703\u7528clone\u4f86\u642d\u5efa\u9805\u76ee\u7684\u7bc4\u672c,\u4f46\u5f80\u5f80\u6211\u5011\u4e0d\u9700\u8981\u5b83\u88e1\u9762\u7684git\u7d00\u9304\\n\\n\u73fe\u5728\u53ef\u4ee5\u5f88\u55ae\u7d14\u7684\u4f7f\u7528degit\u4f86\u62c9\u6211\u5011\u60f3\u7684\u7bc4\u672c\u5feb\u901f\u642d\u5efa\u5c08\u6848\u9aa8\u67b6\\n\\n\u4f7f\u7528\u65b9\u6cd5\\n\\n```bash\\n$ npx degit [template repository]#[branch|tag|commit hash] [your_new_proj]\\n```\\n\uff03\u865f\u5f8c\u9762\u63a5\u7684\u53ef\u4ee5\u662f\u5206\u652f\u540d\u6216tag\u6216commit\\n\\n\u4e0d\u5beb\u7684\u8a71\u9810\u8a2d\u662fmaster | main \u5206\u652f\\n\\n\u4f8b\u5982\u6211\u525b\u525b\u63a8\u4e0a\u53bb\u7684reactSample\u5c31\u53ef\u4ee5\u7576\u6210template\\n\\n\u53ef\u4ee5\u5beb\u6210\\n\\n```bash\\n$ npx degit sayaku/reactSample new_react_project\\n```\\n\\n\u6216\u662f\u7db2\u5740\\n\\n```bash\\n$ npx degit https://github.com/sayaku/reactSample new_react_project\\n```\\n\u9019\u6a23\u5c31\u53ef\u4ee5\u5feb\u901f\u628a\u6211\u539f\u672c\u5beb\u597d\u7684\u7bc4\u672c\u62ff\u4f86\u958b\u65b0\u7684\u5c08\u6848\u4e86\\n\\n\u5176\u5be6\u6211\u9019\u7bc7\u5beb\u4e86\u9019\u9ebc\u591a\\n\\n\u5728\u793e\u7fa4\u88e1\u9762\u65e9\u5c31\u6709\u4eba\u5beb\u4e86\u5f88\u5be6\u7528\u7684template\u53ef\u4ee5\u76f4\u63a5\u7576\u5c08\u6848\u7bc4\u672c\u4e86\\n\\n\u53ef\u4ee5\u53c3\u8003[Awesome Vite.js](https://github.com/vitejs/awesome-vite#templates)\\n\\n\\n## Refs \\n\\n[vite](https://vitejs.dev/) \\n\\n[ESLint + Prettier + Typescript and React in 2022](https://blog.devgenius.io/eslint-prettier-typescript-and-react-in-2022-e5021ebca2b1) \\n\\n[Awesome Vite.js](https://github.com/vitejs/awesome-vite#templates)"},{"id":"/2020/07/27/study-refactoring","metadata":{"permalink":"/blog/2020/07/27/study-refactoring","editUrl":"https://github.com/sayaku/sayaku.github.io/edit/main/blog/2020-07-27-study-refactoring/index.md","source":"@site/blog/2020-07-27-study-refactoring/index.md","title":"Study: Refactoring - Encapsulate","description":"\u8b80\u66f8\u6703\u5167\u5bb9-\u7b2c\u4e03\u7bc0\uff1aEncapsulate\uff08\u5c01\u88dd\uff09","date":"2020-07-27T18:58:57.000Z","formattedDate":"2020\u5e747\u670827\u65e5","tags":[],"readingTime":5.685,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Study: Refactoring - Encapsulate","date":"2020-07-27 18:58:57 +0800"},"prevItem":{"title":"vite+react+typescript+prettier+eslint","permalink":"/blog/2022/11/08/build-project-react-with-vite"},"nextItem":{"title":"2019-Mt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\u306b\u6311\u6226\uff01","permalink":"/blog/2019/09/20/fujisan-ni-nobotta"}},"content":"\u8b80\u66f8\u6703\u5167\u5bb9-\u7b2c\u4e03\u7bc0\uff1aEncapsulate\uff08\u5c01\u88dd\uff09  \\n\u8a72\u7ae0\u7bc0\u63d0\u5230\u91cd\u69cb\u7684\u5c01\u88dd\u6709\u4ee5\u4e0b9\u7a2e\u65b9\u6cd5  \\n\x3c!--truncate--\x3e\\n[Encapsulate Record (\u5c01\u88dd\u7d00\u9304)](#EncapsilateRecord)  \\n[Encapsulate Collection (\u5c01\u88dd\u96c6\u5408)](#EncapsulateCollection)  \\n[Replace Primitive with Object (\u5c07\u57fa\u672c\u5143\u7d20\u8f49\u63db\u6210\u7269\u4ef6)](#ReplacePrimitivewithObject)   \\n[Replace Temp with Query (\u5c07\u66ab\u6642\u8b8a\u6578\u8f49\u63db\u6210\u67e5\u8a62\u51fd\u5f0f)](#ReplaceTempwithQuery)    \\n[Extract Class (\u63d0\u53d6\u985e\u5225) ](#ExtractClass)   \\n[Inline Class (\u5167\u806f\u985e\u5225)](#InlineClass)   \\n[Hide Delegate (\u96b1\u85cf\u59d4\u8a17)](#HideDelegate)   \\n[Remove Middle Man (\u79fb\u9664\u4e2d\u9593\u4eba)](#RemoveMiddleMan)   \\n[Substitute Algorithm (\u66ff\u63db\u6f14\u7b97\u6cd5)](#SubstituteAlgorithm)   \\n\\n\\n\\n## Encapsilate Record (\u5c01\u88dd\u7d00\u9304)<a name=\\"EncapsilateRecord\\"></a>\\n\\n\\nbefore\\n\\n``` javascript\\n    organization = {name: \'sayaku\', country: \'Taiwan\'};\\n```\\n\\nafter\\n``` javascript\\n    class Organization {\\n        constructor(data){\\n            this._name= data.name;\\n            this._country= data.country;\\n        }\\n\\n        get name(){return this._name;}\\n        set name(arg){this._name=arg;}\\n        get country(){this._country;}\\n        set country(arg){this._country=arg;}\\n    }\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u7528class\u5305\u88dd\u7d00\u9304\u8b8a\u6578\uff0c\u4e26\u4e14\u5b9a\u7fa9\u5b58\u53d6\u7684getter, setter  \\n2. getter\u56de\u50b3\u539f\u672c\u8cc7\u6599\u7684\u6df1\u526f\u672c\u800c\u4e0d\u662f\u56de\u50b3\u539f\u59cb\u7d00\u9304  \\n3. \u91cd\u69cb\u6642\u6ce8\u91cdsetter\u66f4\u65b0\u7684\u90e8\u5206  \\n4. \u81ea\u5b9a\u7fa9\u66f4\u8a9e\u610f\u5316\u7684\u51fd\u5f0f  \\n\\n## Encapsulate Collection (\u5c01\u88dd\u96c6\u5408)<a name=\\"EncapsulateCollection\\"></a>\\n\\nbefore\\n\\n``` javascript\\n    class Person {\\n        get courses() { return this._courses;}\\n        set courses(aList) { this._courses=aList;}\\n    }\\n```\\n\\nafter\\n\\n``` javascript\\n    class Person {\\n        get courses() { return this._courses.slice();}\\n        addCourse(aCourse) { ... }\\n        removeCourse(aCourse) { ... }\\n    }\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u8207\u524d\u9762Encapsilate Record \u6982\u5ff5\u76f8\u540c\uff0c\u4f46\u5c01\u88dd\u7684\u5c0d\u8c61\u662f\u96c6\u5408  \\n2. \u65b0\u589e\u5c0d\u96c6\u5408\u64cd\u4f5c\uff08\uff23\uff32\uff35\uff24\u65b0\u589e\u67e5\u8a62\u4fee\u6539\u79fb\u9664\uff09\u7684\u51fd\u5f0f  \\n3. \u8fd4\u56de\u96c6\u5408\u4f7f\u7528\u4ee3\u7406\u6216\u662f\u526f\u672c  \\n\\n## Replace Primitive with Object (\u5c07\u57fa\u672c\u5143\u7d20\u8f49\u63db\u6210\u7269\u4ef6)<a name=\\"ReplacePrimitivewithObject\\"></a>\\n\\n\\nbefore\\n``` javascript\\n    order.filter(o = \'high\' === o.priority || \'rush\' === o.priority);\\n```\\n\\nafter\\n``` javascript\\n    order.filter(o = o.priority.higherThan(new Priority(\'normal\')));\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u5c0d\u7269\u4ef6\u7684\u5c6c\u6027\u8f49\u63db\u6210\u7528\u7269\u4ef6\u7684\u5f62\u5f0f\u8868\u793a  \\n2. \u8a9e\u610f\u5316getter,setter\u51fd\u5f0f\u53d6\u500b\u4e0d\u6613\u8b93\u4eba\u8aa4\u89e3\u7684\u540d\u7a31,\u4f8b\u5982\uff1a\u56de\u50b3\u7684\u503c\u662ftoString()\u800c\u4e0d\u662f\u539f\u672c\u9810\u671f\u7684\u5c6c\u6027,\u90a3\u51fd\u5f0f\u540d\u7a31\u5efa\u8b70\u5728\u5f8c\u7db4\u52a0\u4e0atoString,\u8a9e\u610f\u4e0a\u6bd4\u8f03\u4e0a\u662f\u7d22\u53d6\u5b57\u4e32\u800c\u4e0d\u662f\u539f\u672c\u7684\u5c6c\u6027  \\n3. \u8b93\u7a0b\u5f0f\u78bc\u66f4\u6e05\u695a\u7684\u8868\u9054\u76ee\u7684  \\n\\n\\n## Replace Temp with Query (\u5c07\u66ab\u6642\u8b8a\u6578\u8f49\u63db\u6210\u67e5\u8a62\u51fd\u5f0f)<a name=\\"ReplaceTempwithQuery\\"></a>\\n\\nbefore\\n``` javascript\\n    const basePrice = this.quantity * this._itemPrice;\\n\\n    if (basePrice > 1000)\\n        return basePeice * .95;\\n    else\\n        return basePrice * .98;\\n```\\n\\nafter\\n``` javascript\\n    get basePrice() { this.quantity * this._itemPrice;}\\n    ...\\n    if (basePrice > 1000)\\n        return basePeice * .95;\\n    else\\n        return basePrice * .98;\\n\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u66ab\u6642\u7684\u8b8a\u6578\u53ef\u4ee5\u5132\u5b58\u67d0\u4e9b\u7a0b\u5f0f\u78bc\u7684\u503c\uff0c\u5c07\u4e4b\u8a9e\u610f\u5316\u70ba\u552f\u8b80\u51fd\u5f0f  \\n2. \u78ba\u5b9a\u8a72\u8b8a\u6578\u88ab\u4f7f\u7528\u6642\u4e0d\u6703\u7522\u751f\u4e0d\u540c\u7684\u503c\uff0c\u4e5f\u5c31\u662f\u6700\u521d\u4ed6\u53ea\u6703\u88ab\u8ce6\u503c\u4e00\u6b21  \\n\\n## Extract Class (\u63d0\u53d6\u985e\u5225) <a name=\\"ExtractClass\\"></a>\\n\\nbefore\\n``` javascript\\n    class Person {\\n        get officeAreaCode() {return this._officeAreaCode;}\\n        get officeNumber() {return this._officeNumber;}\\n    }\\n```\\n\\nafter\\n``` javascript\\n    class Person {\\n        get officeAreaCode() {return this._telephoneNumber.areaCode;}\\n        get officeNumber() {return this._telephoneNumber.number;}\\n    }\\n\\n    class Telephone {\\n        get areaCode(){return this._areaCode;}\\n        get number(){return this._number;}\\n    }\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u7576\u985e\u5225\u88e1\u5df2\u7d93\u8907\u96dc\u5230\u9700\u8981\u62c6\u89e3\u529f\u80fd\u4e26\u5206\u9580\u5225\u985e\u6642\u4f7f\u7528  \\n2. \u985e\u5225\u5fc5\u9808\u662f\u500b\u6e05\u6670\u7684\u62bd\u8c61\uff0c \u53ea\u61c9\u8a72\u8655\u7406\u4e00\u4e9b\u660e\u78ba\u7684\u529f\u80fd  \\n3. \u4e00\u62c6\u89e3\u51fa\u4f86\u7684\u529f\u80fd\u5206\u6210\u4e00\u500b\u500b\u5b50\u985e\u5225\uff0c\u4e26\u8207\u7236\u985e\u5225\u7522\u751f\u9023\u7d50  \\n\\n## Inline Class (\u5167\u806f\u985e\u5225)<a name=\\"InlineClass\\"></a>\\n\\nbefore\\n``` javascript\\n\\n    class Person {\\n        get officeAreaCode() {return this._telephoneNumber.areaCode;}\\n        get officeNumber() {return this._telephoneNumber.number;}\\n    }\\n\\n    class Telephone {\\n        get areaCode(){return this._areaCode;}\\n        get number(){return this._number;}\\n    }\\n```\\n\\nafter\\n``` javascript\\n    class Person {\\n        get officeAreaCode() {return this._officeAreaCode;}\\n        get officeNumber() {return this._officeNumber;}\\n    }\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u662fExtract Class (\u63d0\u53d6\u985e\u5225)\u7684\u53cd\u5411\u64cd\u4f5c  \\n2. \u9047\u5230\u6c92\u4ec0\u9ebc\u7528\u9014\u4e14\u4e0d\u8a72\u5b58\u5728\u7684\u5b50\u985e\u5225\uff0c\u4f7f\u7528inline class\u5408\u4f75\u4e4b  \\n3. \u901a\u5e38\u662f\u7528\u65bc\u91cd\u69cb\u5f8c\uff0c\u529f\u80fd\u88ab\u62c6\u5206\u5f8c\u79fb\u9664\u6c92\u7528\u5b50\u985e\u5225\u7684\u5be6\u4f5c  \\n\\n## Hide Delegate (\u96b1\u85cf\u59d4\u8a17)<a name=\\"HideDelegate\\"></a>\\n\\nbefore\\n``` javascript\\n    manager = aPerson.department.manager;\\n```\\n\\nafter\\n``` javascript\\n    manager = aPerson.manager;\\n\\n    class Person {\\n        get manager(){return this.depaetment.manager;}\\n    }\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u5c01\u88dd\u7528\u610f\u662f\u96b1\u85cf\u4e0d\u9700\u8981\u88ab\u6a21\u7d44\u77e5\u9053\u7cfb\u7d71\u7684\u5176\u4ed6\u90e8\u5206  \\n2. \u5176\u5be6\u5c31\u662f\u96b1\u85cf\u6b04\u4f4d\uff0c\u6e1b\u5c11\u7cfb\u7d71\u5167\u90e8\u900f\u660e\u5ea6  \\n3. \u5c07\u59d4\u8a17\u7684\u65b9\u6cd5\u5c01\u88dd\u8d77\u4f86\uff0c\u9054\u6210\u96b1\u85cf\u59d4\u8a17  \\n\\n## Remove Middle Man (\u79fb\u9664\u4e2d\u9593\u4eba)<a name=\\"RemoveMiddleMan\\"></a>\\nbefore\\n``` javascript\\n    manager = aPerson.manager;\\n\\n    class Person {\\n        get manager(){return this.depaetment.manager;}\\n    }\\n```\\nafter\\n``` javascript\\n    manager = aPerson.department.manager;\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u8a72\u6a21\u5f0f\u662fHide Delegate (\u96b1\u85cf\u59d4\u8a17)\u7684\u9006\u5411\u64cd\u4f5c  \\n2. \u7576\u59d4\u8a17\u65b9\u6cd5\u8d8a\u4f86\u8d8a\u591a\uff0c\u6703\u767c\u73fe\u6bcf\u65b0\u589e\u4e00\u500b\u59d4\u8a17\u65b9\u6cd5\u5c31\u8981\u591a\u4e00\u500b\u8f49\u50b3\u6a5f\u5236\uff0c\\n\u65b9\u6cd5\u4e00\u591a\u4fbf\u96e3\u4ee5\u7ba1\u7406,\u6545\u53ef\u4ee5\u9006\u5411\u64cd\u4f5c\u4f7f\u7528\u79fb\u9664\u4e2d\u9593\u4eba\u6a21\u5f0f\u4f86\u91cd\u69cb  \\n\\n\\n## Substitute Algorithm (\u66ff\u63db\u6f14\u7b97\u6cd5)<a name=\\"SubstituteAlgorithm\\"></a>\\nbefore\\n``` javascript\\n    function foundPerson (people) {\\n        for (let i=0; i< people.length; i++){\\n            if(people[i] === \'Don\'){\\n                return \'Don\';\\n            }\\n\\n            if(people[i] === \'John\'){\\n                return \'John\';\\n            }\\n\\n            if(people[i] === \'Sayaku\'){\\n                return \'Sayaku\';\\n            }\\n        }\\n        return \'\';\\n    }\\n```\\n\\nafter\\n``` javascript\\n    function foundPerson(people){\\n        const candidates = [\'Don\', \'John\', \'Sayaku\'];\\n        return people.find(p => candidates.includes(p)) || \'\';\\n    }\\n```\\n\\n\u8aaa\u660e\uff1a  \\n1. \u767c\u73fe\u91cd\u8907\u4e14\u67af\u71e5\u7684\u65b9\u6cd5\u53ef\u4ee5\u91cd\u69cb\u6210\u660e\u78ba\u6613\u61c2\u7684\u65b9\u6cd5\u6642\u4f7f\u7528  \\n2. \u56f0\u96e3\u5316\u4f5c\u7c21\u55ae"},{"id":"/2019/09/20/fujisan-ni-nobotta","metadata":{"permalink":"/blog/2019/09/20/fujisan-ni-nobotta","editUrl":"https://github.com/sayaku/sayaku.github.io/edit/main/blog/2019-09-20-fujisan-ni-nobotta/index.md","source":"@site/blog/2019-09-20-fujisan-ni-nobotta/index.md","title":"2019-Mt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\u306b\u6311\u6226\uff01","description":"\u6bcf\u5e74\u4e00\u6b21\u7684\u65e5\u672c\u55ae\u8eca\u65c5\u904a\uff0c\u5728\u540c\u4e8b\u7684\u616b\u607f\u4e0b","date":"2019-09-20T23:56:12.000Z","formattedDate":"2019\u5e749\u670820\u65e5","tags":[],"readingTime":13.48,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"2019-Mt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\u306b\u6311\u6226\uff01","date":"2019-09-20 23:56:12 +0800"},"prevItem":{"title":"Study: Refactoring - Encapsulate","permalink":"/blog/2020/07/27/study-refactoring"}},"content":"![](fujisan/24.jpg)\\n\u6bcf\u5e74\u4e00\u6b21\u7684\u65e5\u672c\u55ae\u8eca\u65c5\u904a\uff0c\u5728\u540c\u4e8b\u7684\u616b\u607f\u4e0b\\n\\n\u9019\u6b21\u4f86\u9ad4\u9a57\u770b\u770b\u65e5\u672c\u7576\u5730\u7684\u55ae\u8eca\u6311\u6230\u8cfd\\n\\n\u4e5f\u662f\u53f0\u7063\u8eca\u53cb\u53bb\u65e5\u672c\u6bd4\u8cfd\u4e00\u5b9a\u6703\u53c3\u52a0\u7684\u6311\u6230\u8cfd- Mt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\\n\\n<font color=\\"#7b7b7b\\" size=\\"2\\">\u8a71\u8aaa...\u592a\u4e45\u6c92\u4f86\u66f4\u65b0\u7db2\u8a8c\uff0c\u767c\u73fe\u539f\u672c\u7684\u7684\u5716\u5e8a\u5df2\u7d93\u7d50\u675f\u71df\u696d\u6536\u6389\u4e86...  \\n\u5716\u7247\u5b8c\u5168\u6c92\u6709\u5099\u4efd...\u5e6b\uff31\uff31,\u61f6\u5f97\u91cd\u5beb...\u4e7e\u8106\u780d\u6389\u6587\u7ae0  \\n\u7136\u5f8cgit\u53e6\u958b\u5206\u652f\u91cd\u5bebBlog</font>\\n\\n\\n\x3c!--truncate--\x3e\\n\u7531\u65bc\u4e4b\u524d\u6709\u74b0\u904e\u65e5\u672c\u56db\u570b\uff0c\u95dc\u897f\u5730\u5340\u5305\u542b\u7435\u7436\u6e56\u4e00\u5468(\u62b1\u6b49\u6587\u7ae0\u5df2\u780d,\u61f6\u5f97\u91cd\u5beb)\\n\\n\u6240\u4ee5\u5e36\u8eca\u53bb\u65e5\u672c\u9a0e\u8eca\u7684\u7d93\u9a57\u5df2\u7d93\u7b97\u662f\u975e\u5e38\u8c50\u5bcc\uff08\u5439\u5653\u8c8c\uff09\\n\\n\u9019\u6b21\u56e0\u70ba\u8981\u53c3\u52a0\u6bd4\u8cfd\u4e0d\u662f\u5c6c\u65bc\u9577\u9014\u65c5\u884c\uff0c\u53c8\u662f\u7b2c\u4e00\u6b21\u5e36\u5c0f\u7da0\u53bb\u65e5\u672c\\n\\n\u6240\u4ee5\u9019\u6b21\u9078\u64c7\u79df\u7528\u55ae\u8eca\u822a\u7a7a\u7bb1\uff0c\u7562\u7adf\u9ad8\u50f9\u55ae\u8eca\u78b0\u50b7\u5212\u4e0d\u4f86\uff08\u78b0\u50b7\u5927\u6982\u4e5f\u6c92\u5fc3\u60c5\u7e7c\u7e8c\u65c5\u7a0b\u4e86\uff09\\n\\n![](fujisan/01.jpg)\\n\\n\u5927\u6982\u5c31\u9019\u9ebc\u5927\\n\\n![](fujisan/02.jpg)\\n\\n\u8eca\u5b50\u88dd\u7bb1\u5f8c\u9084\u6709\u7a7a\u9593\u9806\u4fbf\u585e\u4e86\u6253\u6c23\u7b52\u8ddf\u8eca\u8863\u8eca\u8932\u9084\u6709\u7dad\u4fee\u5de5\u5177\\n\\n![](fujisan/03.jpg)\\n\\n\u63a5\u4e0b\u4f86\u5e36\u53bb\u6a5f\u5834\uff0c\u4e00\u5982\u5f80\u5e38\u6c92\u904e\uff38\u5149\u6a5f\uff08\u4f46\u65e5\u672c\u7684\u6703\u904e\uff09\u5c31\u4e0a\u62d6\u8eca\u4e86\\n\\n\u7d93\u904e\u7d04\u83ab3\u5c0f\u6642\u7684\u98db\u884c\uff0c\u4eba\u751f\u7b2c\u4e8c\u6b21\u4f86\u5230\u6771\u4eac\u6210\u7530\u6a5f\u5834\uff08\u662f\u7684\u6211\u7b2c\u4e8c\u6b21\u4f86\u6771\u4eac\uff09\\n\\n![](fujisan/04.jpg)\\n\\n\u672c\u4f86\u8981\u76f4\u63a5\u642d\uff2a\uff32\u53bb\u65b0\u5bbf\uff0c\u5f8c\u4f86\u770b\u5230\u8a0a\u606f\u8aaa\u5c71\u624b\u7dda\u767c\u751f\u4eba\u8eab\u4e8b\u6545...\u53ea\u597d\u8f49\u5176\u4ed6\u4ea4\u901a\u5de5\u5177\\n\\n\u5728\u7b2c\u4e8c\u822a\u5ec8\u6709\u76f4\u9054\u65b0\u5bbf\u7684\u5df4\u58eb\uff083300\u5186/\u7247\u9053\uff09,\u55ae\u7a0b\u53ef\u4ee5\u5403\u98df\u3079\u653e\u984c\u4e86...\\n\\n\u662f\u8aaa\u4e00\u4e0b\u98db\u6a5f\u5c31\u4e00\u76f4\u4e0b\u96e8\uff0c\u5230\u4e86\u65b0\u5bbf\u4e5f\u662f\u5929\u6c23\u4e0d\u7f8e\u9e97\\n\\n\u96a8\u624b\u67e5\u4e86\u98df\u3079\u30ed\u30b0..\u767c\u73fe\u9644\u8fd1\u6709\u4e00\u9593\u5206\u6578\u9084\u4e0d\u932f\u9ad8\u7684\u62c9\u9eb5\\n\\n![](fujisan/05.jpg)\\n\\n\u306f\u3084\u3057\u7530\u3089\u3041\u9eba\\n\\n![](fujisan/06.jpg)\\n\\n\u771f\u7684\u597d\u5403\u5566\uff01\uff01\\n\\n\u9694\u5929\u76f4\u63a5\u5230\u65b0\u5bbf\u7ad9\u642d\u5bcc\u58eb\u6025\u884c\u7684\u30d0\u30b9\\n\\n\u76f4\u9054\u6cb3\u53e3\u6e56\\n\\n\u904b\u6c23\u883b\u597d\uff0c\u78b0\u5230\u53ef\u4ee5\u585e\u55ae\u8eca\u7bb1\u7684\u8eca\u5b50\uff0c\u4e0d\u7136\u807d\u805e\u4ee5\u524d\u7684\u8eca\u53cb\u5e38\u5e38\u4e0a\u4e0d\u4e86\\n\\n\u62b5\u9054\u6cb3\u53e3\u6e56\u5f8c\uff0c\u9084\u8981\u518d\u62d6\u8457\u7b28\u91cd\u7684\u55ae\u8eca\u7bb1\u8d702\u516c\u91cc\u5230\u4eca\u665a\u5165\u5bbf\u7684\u65c5\u9928...\\n\\n![](fujisan/07.jpg)\\n\\n\u65c5\u9928\u662f\u4e2d\u570b\u4eba\u958b\u7684\uff0c\u56e0\u70ba\u73fe\u5728\u662f\u6cb3\u53e3\u6e56\u7684\u65fa\u5b63\uff0c\u771f\u7684\u6c92\u6709\u534a\u5e74\u524d\u8a02\u623f\u6839\u672c\u8a02\u4e0d\u5230\\n\\n\u611f\u8b1d\u9019\u6b21\u8ddf\u6211\u540c\u884c\u7684\u540c\u4e8b-\u99ac\u514b\u6709\u8a02\u5230\u9019\u9593\uff08\u96d6\u7136\u8d70\u5f97\u9060\u4e86\u9ede\uff09\\n\\n\u4e0d\u7136\u5c31\u8981\u7761\u8eca\u7ad9\u4e86\\n\\n![](fujisan/08.jpg)\\n\\n\u65c5\u9928\u662f\u50b3\u7d71\u548c\u5ba4\uff0c\u305f\u305f\u307f\u7684\u85fa\u8349\u5473\u5f88\u6fc3\u5f88\u9999\\n\\n\u884c\u674e\u5b89\u7f6e\u597d\u5f8c\u4e0b\u53bb\u524d\u5ead\uff0c\u65c5\u9928\u4e3b\u4eba\u540c\u610f\u8b93\u6211\u5011\u5728\u9019\u908a\u7d44\u55ae\u8eca\\n\\n![](fujisan/09.jpg)\\n\\n\u7d44\u5b8c\u5f8c\u6e96\u5099\u53bb\u6703\u5834\u62ff\u53d6\u660e\u5929\u5bcc\u58eb\u5c71\u6311\u6230\u8cfd\u7684\u7269\u8cc7\u4ee5\u53ca\u865f\u78bc\u5e03\\n\\n![](fujisan/10.jpg)\\n\\n\u4eab\u53d7\u4e00\u4e0b\u9019\u77ed\u66ab\u7684\u967d\u5149\uff08\u56e0\u70ba\u4e4b\u5f8c\u5e7e\u5929\u5728\u4e0b\u96e8...\uff09\\n\\n\u65c5\u9928\u8ddd\u96e2\u6703\u5834\u5927\u698210\u516c\u91cc\uff0c\u722c\u5347\u7d04300\u516c\u5c3a\\n\\n\u6703\u5834\u5728\u5bcc\u58eb\u5c71\u7684\u5c71\u8173\u4e0b\\n\\n\u5230\u73fe\u5834\u5df2\u7d93\u4eba\u5c71\u4eba\u6d77\u4e86\\n![](fujisan/11.jpg)\\n\\n\u5927\u5bb6\u8eca\u5b50\u96a8\u4fbf\u9760\u8457\u5c31\u53bb\u62ff\u7269\u8cc7\u4e86\\n\\n\u96a8\u4fbf\u5e7e\u53f0\u90fd10\u842c\u4ee5\u4e0a\u7684\u540d\u8eca\u554a...\\n\\n\u771f\u4e0d\u6127\u662f\u65e5\u672c\u4eba\uff01\uff01\\n\\n\u7576\u7136\u4e5f\u6709\u5e7e\u500b\u53f0\u7063\u4eba\u7d44\u5718\u4f86\u6bd4\u8cfd\\n\\n![](fujisan/11-1.jpg)\\n\\n\u9818\u4e86\u865f\u78bc\u5e03\uff0c\u9019\u6578\u5b57\u4e0d\u932f\uff01\uff01\\n\\n![](fujisan/11-2.jpg)\\n\\n\u884c\u674e\u9001\u4e0a\u4e0b\u5c71\u5c08\u7528\u888b\uff0c\u4f60\u53ef\u4ee5\u9a0e\u8eca\u6642\u5148\u628a\u5916\u5957\u7b49\u884c\u674e\u653e\u88e1\u9762\\n\\n\u5230\u5c71\u9802\u7684\u6642\u5019\u7d71\u4e00\u9818\u53d6\uff08\u56e0\u70ba\u4eca\u5e74\u5c71\u9802\u771f\u7684\u51b7\uff09\\n\\n![](fujisan/11-3.jpg)\\n\\n\u6703\u5834\u6839\u672c\u5c31\u662f\u55ae\u8eca\u754c\u5927\u62dc\u62dc\\n\\n\u62ff\u5b8c\u7269\u8cc7\u5f8c\u5929\u6c23\u9084\u4e0d\u932f\uff0c\u628a\u63e1\u73fe\u5728\u7684\u597d\u5929\u6c23\u53bb\u7e5e\u7e5e\u6cb3\u53e3\u6e56\\n\\n![](fujisan/20.jpg)\\n\\n\u4f86\u5230\u5bcc\u58eb\u5fa1\u5ba4\u6d45\u9593\u795e\u793e\u7948\u79b1\u660e\u5929\u9a0e\u4e58\u9806\u5229\\n\\n\u9806\u4fbf\u6c42\u4e86\u5fa1\u6731\u5370\\n\\n![](fujisan/19.jpg)\\n![](fujisan/18.jpg)\\n\\n\u62dc\u5b8c\u5f8c\u5c31\u9006\u6642\u91dd\u74b0\u6e56\u5566\uff01\u70ba\u4ec0\u9ebc\u8981\u9006\u6642\u91dd\uff1f\\n\\n\u56e0\u70ba\u65e5\u672c\u9053\u8def\u9760\u5de6\u884c\u99db\uff0c\u9006\u6642\u91dd\u6703\u96e2\u6e56\u6bd4\u8f03\u8fd1\\n\\n\u5230\u4e86\u6cb3\u53e3\u6e56\u8457\u540d\u62cd\u651d\u9006\u5bcc\u58eb\u7684\u666f\\n\\n![](fujisan/13.jpg)\\n\\n\u4f46\u904b\u6c23\u5f88\u4e0d\u597d\uff0c\u5bcc\u58eb\u5c71\u88ab\u539a\u539a\u7684\u96f2\u906e\u4f4f\\n\\n\u5176\u5be6\u6211\u9019\u8f29\u5b50\u9084\u6c92\u770b\u904e\u5bcc\u58eb\u5c71\u7684\u672c\u5c0a...\\n\\n\u4e0d\u7136\u9019\u500b\u9ede\u53ef\u4ee5\u770b\u5230\u5bcc\u58eb\u5c71\u6642\u61c9\u8a72\u662f\u9577\u9019\u6a23\uff08\u53d6\u81eagoogle\u8857\u666f\uff09 \\n![](fujisan/13-1.png)\\n\\n![](fujisan/12.jpg)\\n\\n\u967d\u5149\u7051\u4e0b\u4f86,\u5176\u5be6\u6211\u6bd4\u8f03\u671f\u5f85\u96f2\u6563\u958b\u53ef\u4ee5\u770b\u898b\u5bcc\u58eb\u5c71\\n\\n![](fujisan/14.jpg)\\n![](fujisan/15.jpg)\\n\\n\u597d\u5427\uff01\u770b\u4e0d\u5230\u5c31\u662f\u770b\u4e0d\u5230...\\n\\n\u665a\u9910\u4e5f\u4e0d\u77e5\u8981\u5403\u5565\uff0c\u53ef\u80fd\u662f\u89c0\u5149\u5340\u7684\u95dc\u4fc2\\n\\n\u6771\u897f\u90fd\u9760\u676f\u8cb4\uff01\uff01\\n\\n\u53ea\u597d\u96a8\u4fbf\u627e\u9593\u9023\u9396\u5e97\u4f86\u5403\\n\\n![](fujisan/17.jpg)\\n\\n\u8eca\u5b50\u505c\u597d\uff0c\u525b\u597d\u9047\u5230\u4e00\u500b\u963f\u676f\u53f0\u7063\u4eba\u8ff7\u8def\\n\\n\u4e0d\u6703\u65e5\u6587\u7684\u963f\u676f\u807d\u5230\u6211\u5011\u505c\u8eca\u6642\u8b1b\u4e2d\u6587\u5c31\u597d\u50cf\u9047\u5230\u6551\u661f\\n\\n\u4ed6\u624b\u6a5f\u5feb\u6c92\u96fb\u53c8\u8207\u5718\u54e1\u5931\u806f\\n\\n\u9084\u597d\u540c\u4e8b\u99ac\u514b\u96a8\u8eab\u651c\u5e36\u5145\u96fb\u5c3f\u888b\u61c9\u61c9\u6025\u9806\u4fbf\u5e6b\u4ed6\u627e\u4ed6\u4f4f\u5bbf\u7684\u65c5\u9928\u600e\u9ebc\u8d70\\n\\n\u963f\u676f\u70ba\u4e86\u7b54\u8b1d\u6211\u5011\u8acb\u6211\u5011\u5403\u665a\u9910\\n\\n\u6211\u4e5f\u4e0d\u5ba2\u6c23\u9ede\u4e86\u5f88\u591a\uff08\u6211\u771f\u7684\u597d\u610f\u601d\uff01\uff09\\n\\n![](fujisan/16.jpg)\\n![](fujisan/16-1.jpg)\\n\\n\u5403\u5b8c\u5f8c\u6211\u53ea\u80fd\u8aaa\u963f\u676f\u4f60\u771f\u597d\uff0c\u4f60\u4e00\u5b9a\u6703\u9806\u5229\u627e\u5230\u56de\u53bb\u7684\u8def\u7684\uff01\uff01\\n\\n\u7136\u5f8c\u660e\u5929\u958b\u5fc3\u5b8c\u8cfd\\n\\n\u771f\u7684\u5403\u5f97\u5f88\u6f8e\u6e43\u5c31\u662f\u4e86XD\\n\\n\u5403\u5b8c\u56de\u65c5\u9928\u9806\u4fbf\u53bb\u8d85\u5e02\u5e36\u4e86\u4e00\u76d2\u5bb5\u591c\uff0c\u4f46\u624b\u8173\u592a\u6162\u6436\u4e0d\u5230\u534a\u984d\\n\\n![](fujisan/21.jpg)\\n\\n\u6b64\u6642\u665a\u4e0a\u7684\u6cb3\u53e3\u6e56\u7a81\u7136\u958b\u59cb\u4e0b\u8d77\u96e8\u4f86\\n\\n\u53ea\u597d\u7948\u79b1\u660e\u5929\u6bd4\u8cfd\u80fd\u5920\u597d\u5929\u6c23\\n\\n\u4f46\u901a\u5e38\u6703\u6709\u9019\u7a2e\u60f3\u6cd5\\n\\n\u8001\u5929\u723a\u5c31\u6703\u7d66\u4f60\u4e0b\u5230\u4e0d\u8981\u4e0d\u8981\u7684\\n\\n\u5929\u525b\u4eae...\u65c5\u9928\u9694\u58c1\u5e7e\u9593\u4f3c\u4e4e\u4e5f\u662f\u8eca\u53cb\\n\\n\u65e9\u65e9\u5c31\u51fa\u9580\u4e86\uff01\\n\\n\u5f80\u5916\u770b\u770b\u8def\u9762\\n\\n\u679c\u7136\u6211\u5fc3\u4e2d\u7684\u8001\u5929\u723a\u6c92\u8b93\u6211\u5931\u671b\\n\\n\u5730\u662f\u6fd5\u7684....\u4f46\u6c92\u4e0b\u96e8\\n\\n\u5f88\u597d\uff01\u5c31\u8d81\u9019\u6bb5\u7a7a\u64cb\u8d95\u5feb\u6bba\u5230\u6bd4\u8cfd\u6703\u5834\\n\\n![](fujisan/22.jpg)\\n\\n\u5230\u4e86\u6703\u5834\u767c\u73fe\u5176\u5be6\u6211\u5011\u7b97\u5f88\u665a\u5230\u4e86\\n\\n\u9023\u4e0a\u5c71\u884c\u674e\u5df4\u58eb\u90fd\u5df2\u7d93\u958b\u4e0a\u5c71\u53bb\u4e86...\\n\\n\u5176\u5be6\u81ea\u5df1\u7c21\u7ae0\u4e5f\u6c92\u4ed4\u7d30\u770b\u6e05\u695a\u884c\u674e\u914d\u9001\u6642\u9593...\u6028\u4e0d\u5f97\u4eba...\\n\\n\u958b\u8cfd\u524d\u958b\u59cb\u4e0b\u8d77\u96e8\u4f86\uff0c\u6c23\u6eab\u4e5f\u8b8a\u4f4e\u5f88\u591a\\n\\n\u5176\u5be6\u4e00\u76f4\u641e\u4e0d\u61c2\u70ba\u4f55\u9019\u500b\u6bd4\u8cfd\u8981\u8fa6\u5728\u65e5\u672c\u7684\u6885\u96e8\u5b63\u5462\uff1f\\n\\n![](fujisan/23.jpg)\\n\\n\u8868\u5b9a7:30\u51fa\u767c\uff0c\u7531\u65bc\u51fa\u767c\u4eba\u6578\u773e\u591a\uff08\u807d\u805e\u67091\u842c\u4eba\uff09\\n\\n\u6211\u88ab\u5b89\u6392\u5728\u7b2c19\u68af\u6b21\u51fa\u767c\uff0c\u5dee\u4e0d\u591a8:30\u624d\u8f2a\u5230\u6211\u5011\\n\\n\u8a71\u8aaa\u6211\u540c\u4e8b\u99ac\u514b\u7684\u68af\u6b21\u6bd4\u8f03\u524d\u9762\u65e9\u621130\u5206\u9418\u51fa\u767c\\n\\n\u5176\u5be6\u7b49\u5230\u51fa\u767c\u7684\u6642\u5019\u8eab\u9ad4\u5df2\u7d93\u5b8c\u5168\u51b7\u6389\u4e86\\n\\n![](fujisan/23-1.jpg)\\n\\n\u7d42\u65bc\u8f2a\u5230\u6211\u5011\u51fa\u767c\u4e86\\n\\n\u5bcc\u58eb\u5c71\u6311\u6230\u8cfd\\n\\n\u8d77\u9ede\u7531\u5bcc\u58eb\u5317\u9e93\u516c\u5712\u9678\u4e0a\u7af6\u6280\u5834\uff0c\u5230\u7d42\u9ede\u5bcc\u58eb\u5c71\u4e94\u5408\u76ee\uff08\u6a19\u9ad82305m\uff09\\n\\n\u5168\u957723.4km,\u7e3d\u722c\u53471200m,\u4ee5\u96e3\u5ea6\u4f86\u8aaa\u5927\u6982\u5c31\u662f\u53f0\u7063\u5b9c\u862d\u7684\u592a\u5e73\u5c71\u5dee\u4e0d\u591a\\n\\n\u74b0\u6cd5\u5761\u5ea6\u7b49\u7d1a\u662f\u6700\u9ad8\u7d1a\u7684\uff28\uff23\u7d1a\\n\\n\u5168\u7a0b\u9664\u4e86\u88dc\u7d66\u52a0\u6c34\u4e4b\u5916\u5c31\u6c92\u6709\u843d\u5730\u4e86\uff08\u6240\u4ee5\u5c31\u6c92\u6709\u9a0e\u4e58\u904e\u7a0b\u7684\u7167\u7247\u4e86\uff09\\n\\n\u662f\u8aaa\u5929\u5019\u60e1\u52a3\u6574\u8def\u8d77\u9727\u4e0b\u96e8\u6839\u672c\u770b\u4e0d\u5230\u4ec0\u9ebc\u666f\u8272\u5c31\u662f\u4e86\\n\\n\u597d\u4e0d\u5bb9\u6613\u5728\u9019\u60e1\u52a3\u53c8\u4f4e\u6eab\u7684\u5929\u5019\u7d42\u65bc\u9a0e\u4e0a\u7d42\u9ede\u5bcc\u58eb\u4e94\u5408\u76ee\\n\\n\u4e0a\u9762\u7684\u6eab\u5ea6\u53ea\u67099\u5ea6\uff0c\u56e0\u70ba\u4e0b\u96e8\u53c8\u5927\u98a8\u9ad4\u611f\u6eab\u5ea6\u5927\u69823~4\u5ea6\u5427\\n\\n![](fujisan/23-2.jpg)\\n\u5230\u7d42\u9ede\u5f8c\u96e8\u4e0b\u66f4\u5927\u4e86\\n\\n![](fujisan/25.jpg)  \\n\u5403\u500b\u51b0\u6dc7\u6dcb\u58d3\u58d3\u9a5a\\n\\n![](fujisan/26.jpg)\\n\u6709\u9ede\u5f8c\u6094\u6c92\u4f86\u9019\u500b\u795e\u793e\u84cb\u6731\u5370\\n\\n![](fujisan/24.jpg)\\n\u53c8\u4e00\u500b\u4eba\u751f\u6e05\u55ae\u9054\u6210\uff01\\n\\n\u5728\u9644\u8fd1\u8ce3\u5e97\u5403\u5b8c\u6771\u897f\u5f8c\u5c31\u8d95\u7dca\u4e0b\u5c71\u4e86\\n\\n\u4e0d\u7136\u5c71\u4e0a\u96e8\u8ddf\u9727\u8d8a\u4f86\u8d8a\u5927\uff0c\u6eab\u5ea6\u4e5f\u8d8a\u4f86\u8d8a\u4f4e\\n\\n\u4e0b\u5c71\u53ef\u4ee5\u9078\u64c7\u63a5\u99c1\u4e0b\u5c71\u6216\u662f\u81ea\u5df1\u9a0e\u4e0b\u5c71\\n\\n\u4e0b\u5c71\u4e5f\u662f\u5206\u68af\u6b21\uff0c\u7136\u5f8c\u4e0b\u5c71\u771f\u7684\u9760\u676f\u51b7....(\u5f8c\u6094\u6c92\u642d\u63a5\u99c1\u8eca)\\n\\n\u56de\u5230\u5c71\u8173\u7684\u8d77\u9ede\u6703\u6709\u71b1\u70cf\u9f8d\u9eb5\uff08\u4f46\u6211\u6c92\u770b\u5230\uff09\\n\\n\u56e0\u70ba\u6211\u6025\u5fd9\u53bb\u670d\u52d9\u53f0\u8fa6\u7406\u8b49\u660e\u60f3\u8aaa\u65e9\u9ede\u56de\u53bb\u6d17\u6fa1\\n\\n\u5b8c\u8cfd\u8b49\u660e\u7684\u90e8\u5206\\n\\n![](fujisan/27.jpg)\\n\\n\u6709\u5b8c\u8cfd\u7684\u4eba\u6703\u6709\u4e00\u500b\u91d1\u5c6c\u7684\u9f8d\u982d\u588a\u5708\uff08\u55ae\u8eca\u7684\u4e00\u500b\u96f6\u4ef6\uff09\\n\\n\u6c92\u6709\u734e\u724c\u53ea\u6709\u5b8c\u8cfd\u8b49\u660e\\n\\n\u7136\u5f8c\u90a3\u500b\u9f8d\u982d\u588a\u5708\u6709\u5206\\n\\n\u91d1\u74b0\uff1a65\u5206\u9418\u5167\u5b8c\u8cfd  \\n\u9280\u74b0\uff1a75\u5206\u9418\u5167\u5b8c\u8cfd  \\n\u9285\u74b0\uff1a90\u5206\u9418\u5167\u5b8c\u8cfd  \\n\u85cd\u74b0\uff1a\u7537\u5b50\u7d44\u5b8c\u8cfd  \\n\u7c89\u74b0\uff1a\u5973\u5b50\u7d44\u5b8c\u8cfd  \\n\\n\u672c\u5ee2\u7269\u9a0e\u4e86141\u5206\u9418...\u53ea\u80fd\u9818\u85cd\u74b0\\n\\n\u5927\u6703\u9084\u8aaa\u6b77\u5e74\u5b8c\u8cfd\u7387\u662f99% (\u6211\u958b\u59cb\u61f7\u7591\u9019\u500b\u8aaa\u6cd5\u4e86...)\\n\\n\u7b97\u4e86\uff01\u6211\u672c\u4f86\u5c31\u662f\u4f86\u8f15\u9b06\u9a0e\u7684\\n\\n\u9019\u6b21\u6311\u6230\u7684\u8def\u7dda\uff08\u4e0a\u5c71+\u4e0b\u5c71\uff09\\n\\n<iframe height=\'405\' width=\'590\' frameborder=\'0\' allowtransparency=\'true\' scrolling=\'no\' src=\'https://www.strava.com/activities/2435246405/embed/5237a9b224bb00a0d3aa3625acedcb90dc693fe0\'></iframe>\\n\\nRelive\u5f71\u7247-\u6211\u662f\u4e0d\u77e5\u9053\u90a3\u500b\u6700\u9ad8\u901f123km/h\u600e\u9ebc\u4f86\u7684XD\\n\\n<blockquote class=\\"embedly-card\\" data-card-controls=\\"0\\" data-card-key=\\"f1631a41cb254ca5b035dc5747a5bd75\\"><h4><a href=\\"https://www.relive.cc/view/vKv244Rxk46?r=embed-site\\">Relive \'\u5bcc\u58eb\u5c71\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\'</a></h4></blockquote>\\n<script async src=\\"https://cdn.embedly.com/widgets/platform.js\\" charset=\\"UTF-8\\"><\/script>\\n\\n\\n\u53e6\u5916\u5fc5\u9808\u88dc\u5145\u5f88\u91cd\u8981\u7684\u4e00\u9ede\\n\\n<font color=\\"#dd0000\\" size=\\"6\\">Mt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\u9019\u500b\u6311\u6230\u8cfd\u5168\u7a0b\u7684\u88dc\u7d66\u53ea\u6709\\"\u6c34\\"</font>\\n\\n<font color=\\"#dd0000\\" size=\\"6\\">Mt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\u9019\u500b\u6311\u6230\u8cfd\u5168\u7a0b\u7684\u88dc\u7d66\u53ea\u6709\\"\u6c34\\"</font>\\n\\n<font color=\\"#dd0000\\" size=\\"6\\">Mt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\u9019\u500b\u6311\u6230\u8cfd\u5168\u7a0b\u7684\u88dc\u7d66\u53ea\u6709\\"\u6c34\\"</font>\\n\\n\\n\u5f88\u91cd\u8981,\u8b1b\u4e09\u904d!\\n\\n\u6c92\u932f\u5c31\u53ea\u6709\u6c34\uff0c\u6c92\u6709\u5176\u4ed6\u4efb\u4f55\u88dc\u7d66\uff0c\u7c21\u7ae0\u4e0a\u4e5f\u6c92\u5beb\uff0c\u6240\u4ee5\u57fa\u672c\u4e0a\u6211\u9a0e\u5230\u56db\u5408\u76ee\u6642\u5c31\u6c92\u529b\u4e86\\n\\n\u56e0\u70ba\u6211\u6c92\u5e36\u88dc\u7d66\u54c1\uff0c\u65e9\u9910\u53ea\u5403\u4e00\u500b\u83e0\u863f\u8ddf\u4e00\u676f\u5496\u5561\u5c31\u4e0a\u4e86\\n\\n\u7136\u5f8c\u56e0\u70ba\u6bd4\u8f03\u665a\u51fa\u767c\u7684\u95dc\u4fc2\\n\\n\u722c\u5230\u4e00\u534a\u5df2\u7d93\u6709\u4eba\u4e0b\u6ed1\u4e86\\n\\n\u800c\u4e14\u53c8\u5dee\u9ede\u88ab\u5225\u4eba\u4e82\u4e1f\u7684\u6c34\u58fa\u62cc\u5012\\n\\n\u6709\u5728\u9a0e\u8eca\u7684\u4eba\u61c9\u8a72\u77e5\u9053\u9019\u7a2e\u5fc3\u60c5\u6703\u5f88\u5dee\\n\\n\u96d6\u7136\u77e5\u9053\u5728\u570b\u5916\u9a0e\u8eca\u4e0d\u80fd\u8ddf\u53f0\u7063\u672c\u5730\u8cfd\u4e8b\u505a\u6bd4\u8f03\\n\\n\u4f46\u8001\u5be6\u8aaaMt.\u5bcc\u58eb\u30d2\u30eb\u30af\u30e9\u30a4\u30e0\u5728\u9019\u65b9\u9762\u505a\u5f97\u4e26\u4e0d\u597d\\n\\n\u4e5f\u5fc5\u9808\u5f37\u8abf\u4e0d\u662f\u65e5\u672c\u4eba\u8fa6\u7684\u6d3b\u52d5\u5c31\u4e00\u5b9a\u5f88\u597d\\n\\n\u6211\u540c\u4e8b\u4e5f\u662f\u56e0\u70ba\u6c92\u6709\u88dc\u7d66\u9a0e\u5230\u56db\u5408\u76ee\u76f4\u63a5\u9032\u9910\u5ef3\u98fd\u9910\u4e00\u9813\u518d\u4e0a\u5c71\\n\\n\u4e0b\u5c71\u5f8c\u56de\u5230\u65c5\u9928\uff0c\u6574\u500b\u9a0e\u7684\u5f88\u72fc\u72fd\\n\\n![](fujisan/28.jpg)\\n\\n\u9084\u597d\u6211\u662f\u5e36\u92c1\u5408\u91d1\u8f2a\u7d44\u4f86\uff08\u4e0d\u7136\u9019\u7a2e\u60e1\u52a3\u5929\u6c23\u4e0b\u5761\u7528\u78b3\u7e96\u7dad\u8f2a\u7d44\u5f88\u50b7\uff09\\n\\n\u8f9b\u82e6\u4e86\u6211\u7684\u5c0f\u7da0\uff01\uff01\\n\\n\u56de\u5230\u65c5\u9928\u6c92\u4e8b\u5c31\u5148\u628a\u8eca\u62c6\u4e00\u62c6\u88dd\u56de\u8eca\u7bb1\\n\\n\u6e96\u5099\u660e\u5929\u56de\u5230\u6771\u4eac\\n\\n\u7136\u5f8c\u5728\u9019\u908a\u611f\u8b1d\u5728\u65c5\u9928\u6253\u5de5\u7684\u7576\u5730\u4f4f\u6c11-\u5c71\u4e2d\u5148\u751f\\n\\n\u8acb\u4ed6\u8f09\u6211\u5011\u8ddf\u8eca\u7bb1\u904b\u5230\u8eca\u7ad9\uff08\u6211\u53ef\u4e0d\u60f3\u5728\u96e8\u4e2d\u62d6\u8457\u8eca\u7bb1\u8d70\u5230\u8eca\u7ad9\uff09\\n\\n\u56de\u7a0b\u9014\u4e2d\uff0c\u5c71\u4e2d\u5148\u751f\u8aaa\u6211\u5011\u904b\u6c23\u5f88\u5dee\uff0c\u525b\u597d\u4f86\u7684\u9019\u5e7e\u5929\u90fd\u5728\u4e0b\u96e8\\n\\n![](fujisan/29.jpg)  \\n\u679c\u7136\u4e5f\u4e00\u5806\u4eba\u64e0\u5728\u6cb3\u53e3\u6e56\u7ad9\\n\\n\u96e8\u5929\u54ea\u4e5f\u53bb\u4e0d\u4e86\\n\\n![](fujisan/30.jpg)\\n\\n\u4e00\u6a23\u4e5f\u662f\u642d\u5bcc\u58eb\u6025\u884c\u7684\u30d0\u30b9\u56de\u5230\u65b0\u5bbf\\n\\n\u56de\u5230\u65b0\u5bbf\u4f9d\u7136\u5728\u4e0b\u96e8\\n\\n\u8d95\u7dca\u5230\u5165\u4f4f\u7684\u65c5\u9928\u653e\u884c\u674e\\n\\n\u623f\u9593\u4e00\u500b\u4eba\u4f4f\u5f88\u53ef\u4ee5\\n\\n![](fujisan/31.jpg)\\n\\n\u56e0\u70ba\u7b97\u662f\u883b\u5e38\u4f86\u65e5\u672c\u7684\u5176\u5be6\u4e5f\u6c92\u4ec0\u9ebc\u8cfc\u7269\u884c\u7a0b\\n\\n\u5c31\u96a8\u4fbf\u901b\u901b\\n\\n\u53bb\u795e\u793e\u53c3\u62dc\u84cb\u500b\u6731\u5370\\n\\n![](fujisan/32.jpg)\\n\\n\u665a\u4e0a\u6700\u5f8c\u4e00\u9910\u5c31\u7528\u65b0\u5bbf\u62c9\u9eb5\u540d\u5e97-\u98a8\u96f2\u5152\u505a\u70ba\u7d50\u675f\uff01\uff01\uff01\\n\\n![](fujisan/33.jpg)\\n\\n\u7136\u5f8c\u4eba\u751f\u6700\u6f1a\u5c31\u662f\\n\\n\u9694\u5929\u8981\u56de\u53f0\u7063\u5929\u6c23\u624d\u653e\u6674\\n\\n.....\u611f\u89ba\u662f\u5632\u7b11\u6211\u50bb\u554a.....\\n\\n![](fujisan/34.jpg)\\n\\n\u9019\u8d9f\u65c5\u884c\u53c8\u9054\u6210\u4e86\u4e00\u500b\u6210\u5c31\\n\\n\u4f86\u5230\u5bcc\u58eb\u5c71\uff0c\u722c\u4e0a\u5bcc\u58eb\u5c71\uff0c\u4f46\u537b\u6c92\u770b\u904e\u5bcc\u58eb\u5c71\\n\\n\u770b\u4f86\u6211\u771f\u7684\u6c92\u7de3\u4efd\u5462\uff01"}]}')}}]);